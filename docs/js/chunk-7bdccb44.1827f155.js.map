{"version":3,"sources":["webpack:///./src/components/HomePage/index.vue?c3b1","webpack:///./src/views/home.vue?8378","webpack:///./src/components/HomePage/index.vue?ddf0","webpack:///./src/components/HomePage/glrender.ts","webpack:///./src/components/HomePage/index.vue","webpack:///./src/components/HomePage/index.vue?4bd1","webpack:///./src/views/home.vue","webpack:///./src/views/home.vue?af59","webpack:///./src/views/home.vue?88c9"],"names":["_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_HomePage","_hoisted_2","ref","_component_router_link","headerData","value","index","key","to","path","default","name","_","scene","camera","ambient","renderer","rainMaterial","animateId","rainGeo","homeContainer","offsetWidth","offsetHeight","position","set","add","antialias","fog","setClearColor","color","setSize","appendChild","domElement","vertexColors","points","pointColor","temp","i","geometry","setFromPoints","setAttribute","Float32Array","line","Math","random","push","window","addEventListener","onWindowResize","aspect","innerWidth","innerHeight","updateProjectionMatrix","animate","requestAnimationFrame","length","targetX","x","targetY","y","targetZ","z","destroy","dispose","removeEventListener","forEach","e","cancelAnimationFrame","setup","__exports__","components","HomePage","setToolbarState","routeControl","rotateControl","initControl","heatmapControl","flyLineControl","featurePointControl","videoFusion"],"mappings":"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","file":"js/chunk-7bdccb44.1827f155.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=69595e96&lang=less&scoped=true\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-349ac5bc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home-main\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_HomePage = _resolveComponent(\"HomePage\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_HomePage)\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-69595e96\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home-container\" }\nconst _hoisted_2 = {\n  class: \"gl-render\",\n  ref: \"homeContainer\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.headerData, (value, index) => {\n        return (_openBlock(), _createBlock(_component_router_link, {\n          key: index,\n          to: value.path\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", null, _toDisplayString(value.name), 1)\n          ]),\n          _: 2\n        }, 1032, [\"to\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, null, 512)\n  ], 64))\n}","import * as THREE from \"three\";\r\n\r\nlet scene: THREE.Scene,\r\n  camera: THREE.PerspectiveCamera,\r\n  ambient: THREE.AmbientLight,\r\n  renderer: THREE.WebGLRenderer,\r\n  rainMaterial: THREE.LineBasicMaterial,\r\n  rainGeo: THREE.Line[] = [],\r\n  animateId: number;\r\n\r\nconst init = (homeContainer: HTMLDivElement) => {\r\n  scene = new THREE.Scene();\r\n  camera = new THREE.PerspectiveCamera(\r\n    60,\r\n    homeContainer.offsetWidth / homeContainer.offsetHeight,\r\n    1,\r\n    1000\r\n  );\r\n  camera.position.set(0, 10, 0);\r\n  ambient = new THREE.AmbientLight(0x555555);\r\n  scene.add(ambient);\r\n\r\n  renderer = new THREE.WebGLRenderer({\r\n    antialias: true,\r\n  });\r\n  scene.fog = new THREE.FogExp2(0x11111f, 0.002);\r\n  renderer.setClearColor(scene.fog.color);\r\n  renderer.setSize(homeContainer.offsetWidth, homeContainer.offsetHeight);\r\n  homeContainer.appendChild(renderer.domElement);\r\n\r\n  rainMaterial = new THREE.LineBasicMaterial({\r\n    // map: texture,\r\n    vertexColors: true,\r\n  });\r\n\r\n  const points = [\r\n    new THREE.Vector3(-10, -10, -10),\r\n    new THREE.Vector3(10, 10, 10),\r\n  ];\r\n  const pointColor = [0.4, 1, 1, 0, 0, 0];\r\n  const temp = [];\r\n  for (let i = 0; i < 300; i += 1) {\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n    geometry.setAttribute(\r\n      \"color\",\r\n      new THREE.BufferAttribute(new Float32Array(pointColor), 3)\r\n    );\r\n    const line = new THREE.Line(geometry, rainMaterial);\r\n    line.position.set(\r\n      Math.random() * 400 - 200,\r\n      Math.random() * 500 - 250,\r\n      Math.random() * 400 - 200\r\n    );\r\n    scene.add(line);\r\n\r\n    temp.push(line);\r\n  }\r\n  rainGeo = temp;\r\n\r\n  //   console.log(rainGeo);\r\n\r\n  window.addEventListener(\"resize\", onWindowResize);\r\n};\r\n\r\nconst onWindowResize = () => {\r\n  camera.aspect = window.innerWidth / window.innerHeight;\r\n  camera.updateProjectionMatrix();\r\n\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n};\r\n\r\nconst animate = () => {\r\n  animateId = requestAnimationFrame(animate);\r\n  for (let i = 0; i < rainGeo.length; i += 1) {\r\n    let targetX = rainGeo[i].position.x - 4 - 0.1 * 0.1;\r\n    let targetY = rainGeo[i].position.y - 4 - 0.1 * 0.1;\r\n    let targetZ = rainGeo[i].position.z - 4 - 0.1 * 0.1;\r\n    targetX = targetX < -200 ? 200 : targetX;\r\n    targetY = targetY < -200 ? 200 : targetY;\r\n    targetZ = targetZ < -200 ? 200 : targetZ;\r\n\r\n    rainGeo[i].position.set(targetX, targetY, targetZ);\r\n  }\r\n\r\n  renderer.render(scene, camera);\r\n};\r\n\r\nconst destroy = () => {\r\n  rainMaterial.dispose();\r\n  renderer.dispose();\r\n  ambient.dispose();\r\n  window.removeEventListener('resize', onWindowResize);\r\n  rainGeo.forEach((e) => {\r\n    e.geometry.dispose();\r\n  });\r\n  cancelAnimationFrame(animateId);\r\n};\r\n\r\nexport { init, animate, destroy };\r\n","\r\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\r\nimport { init, animate, destroy } from \"./glrender\";\r\nexport default {\r\n  name: \"HomePage\",\r\n  setup() {\r\n    const headerData = [\r\n      {\r\n        name: \"地球\",\r\n        path: \"/earth\",\r\n      },\r\n      {\r\n        name: \"城市\",\r\n        path: \"/city\",\r\n      },\r\n      {\r\n        name: \"攻防\",\r\n        path: \"/gongfang\",\r\n      },\r\n      {\r\n        name: \"建筑\",\r\n        path: \"/building\",\r\n      },\r\n      {\r\n        name: \"房间\",\r\n        path: \"/room\",\r\n      },\r\n    ];\r\n\r\n    const homeContainer = ref();\r\n\r\n    onMounted(() => {\r\n      init(homeContainer.value);\r\n      animate();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      destroy();\r\n    });\r\n\r\n    return { homeContainer, headerData };\r\n  },\r\n};\r\n","import { render } from \"./index.vue?vue&type=template&id=69595e96&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=69595e96&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wwwwwk/Desktop/items/3dself/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69595e96\"]])\n\nexport default __exports__","\r\nimport { inject } from \"vue\";\r\nimport HomePage from \"@/components/HomePage/index.vue\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: { HomePage },\r\n  setup() {\r\n    const setToolbarState: any = inject(\"setToolbarState\");\r\n    setToolbarState({\r\n      routeControl: false,\r\n      rotateControl: false,\r\n      initControl: false,\r\n      heatmapControl: false,\r\n      flyLineControl: false,\r\n      featurePointControl: false,\r\n      videoFusion: false,\r\n    });\r\n  },\r\n};\r\n","import { render } from \"./home.vue?vue&type=template&id=349ac5bc&scoped=true&ts=true\"\nimport script from \"./home.vue?vue&type=script&lang=ts\"\nexport * from \"./home.vue?vue&type=script&lang=ts\"\n\nimport \"./home.vue?vue&type=style&index=0&id=349ac5bc&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wwwwwk/Desktop/items/3dself/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-349ac5bc\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./home.vue?vue&type=style&index=0&id=349ac5bc&lang=less&scoped=true\""],"sourceRoot":""}