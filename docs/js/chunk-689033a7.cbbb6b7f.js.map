{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/assets/city/green.jpg","webpack:///./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack:///./src/assets/city/guangzhaojianbian.png","webpack:///./src/views/city.vue?7c0a","webpack:///./src/assets/city/buildingcolor.png","webpack:///./src/components/CityPage/index.vue?8f32","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./src/assets/city/guangzhaojianbianbai.png","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/assets/city/water.jpg","webpack:///./src/views/city.vue?6c40","webpack:///./src/components/CityPage/halfsphere.ts","webpack:///./src/components/CityPage/distencebuffer.ts","webpack:///./src/utils/jsonmodel.ts","webpack:///./node_modules/three/examples/jsm/objects/Water.js","webpack:///./src/components/CityPage/addgeo.ts","webpack:///./src/components/CityPage/featurecylinder.ts","webpack:///./node_modules/three/examples/jsm/postprocessing/Pass.js","webpack:///./node_modules/three/examples/jsm/shaders/CopyShader.js","webpack:///./node_modules/three/examples/jsm/shaders/LuminosityHighPassShader.js","webpack:///./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/ShaderPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/MaskPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/EffectComposer.js","webpack:///./node_modules/three/examples/jsm/postprocessing/RenderPass.js","webpack:///./src/components/CityPage/addbloom.ts","webpack:///./src/components/CityPage/addwater.ts","webpack:///./src/components/CityPage/glrender.ts","webpack:///./src/components/CityPage/index.vue","webpack:///./src/components/CityPage/index.vue?e43a","webpack:///./src/views/city.vue","webpack:///./src/views/city.vue?8151","webpack:///./src/assets/city/buildingbyte.png","webpack:///./src/assets/city/buildingcolor2.png","webpack:///./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack:///./src/assets/city/sky.jpg"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","module","exports","fails","$RegExp","RegExp","groups","a","replace","toString","regexpFlags","stickyHelpers","shared","create","getInternalState","get","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","String","prototype","nativeExec","patchedExec","charAt","indexOf","stringSlice","slice","UPDATES_LAST_INDEX_WRONG","re1","re2","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","undefined","PATCH","string","reCopy","match","i","object","group","state","raw","sticky","flags","source","charsAdded","strCopy","multiline","input","index","length","MISSED_STICKY","anObject","that","ignoreCase","dotAll","unicode","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_City","requestAnimationId","halfSphereMesh","distenceBufferMesh","requestAnimationId2","cylinderMesh","center","getPositionFromJson","geoJson","height","features","geometry","type","tmpHeight","Math","random","tmp","position","coordinates","push","x","y","j","jianbianPng","vs","fs","camera","PI","texture","load","material","uniforms","c","value","p","backgroundTexture","offset","u_resolution","u_time","glowColor","viewVector","vertexShader","fragmentShader","side","depthWrite","transparent","mesh","rotateX","set","updateHalfSphere","updateAction","animation","requestAnimationFrame","halfSphereDestroy","cancelAnimationFrame","dispose","cylinderRadius","radius","colorPng","wrapS","wrapT","repeat","materials","map","opacity","z","applyMatrix4","makeTranslation","updateCylinder","scale","distenceBufferDestroy","options","super","scope","textureWidth","textureHeight","clipBias","alpha","time","normalSampler","waterNormals","sunDirection","sunColor","waterColor","eye","distortionScale","fog","mirrorPlane","normal","mirrorWorldPosition","cameraWorldPosition","rotationMatrix","lookAtPosition","clipPlane","view","q","textureMatrix","mirrorCamera","parameters","minFilter","magFilter","format","renderTarget","isPowerOfTwo","generateMipmaps","mirrorShader","merge","clone","lights","onBeforeRender","renderer","scene","setFromMatrixPosition","matrixWorld","extractRotation","subVectors","dot","reflect","negate","add","copy","up","lookAt","far","updateMatrixWorld","projectionMatrix","multiply","matrixWorldInverse","setFromNormalAndCoplanarPoint","constant","sign","elements","w","multiplyScalar","currentRenderTarget","getRenderTarget","currentXrEnabled","xr","enabled","currentShadowAutoUpdate","shadowMap","autoUpdate","visible","setRenderTarget","buffers","depth","setMask","autoClear","clear","viewport","isWater","buildingMesh","areaMesh","flyLine","streetMesh","waterMesh","greenLandMesh","resultMesh","shape","moveTo","lineTo","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","tmpMateria","color","metalness","roughness","starImg","Array","fill","depthTest","flyLineData","colorData","curve","points","getPoints","setParticles","particles","moveAction","greenJpg","greenTexture","geoDestroy","children","remove","destroy","png","pngTexture","tweenMove","cylinder","translate","angle","setFeatureCylinder","dtPyramidTexture","uColor","startLocation","endLocation","duration","k","rotateY","sin","to","easing","Linear","None","onUpdate","onStop","onComplete","Infinity","start","animate","update","Pass","needsSwap","renderToScreen","console","error","_camera","_geometry","setAttribute","_mesh","CopyShader","LuminosityHighPassShader","shaderID","resolution","strength","threshold","clearColor","pars","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","round","resy","renderTargetBright","name","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","defines","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","needsUpdate","bloomFactors","bloomTintColors","copyShader","copyUniforms","materialCopy","blending","_oldClearColor","oldClearAlpha","basic","fsQuad","width","setSize","writeBuffer","readBuffer","deltaTime","maskActive","getClearColor","getClearAlpha","oldAutoClear","setClearColor","stencil","setTest","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","shader","textureID","Object","assign","autoClearColor","autoClearDepth","autoClearStencil","inverse","context","getContext","writeValue","clearValue","setLocked","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","size","getSize","_pixelRatio","getPixelRatio","_width","_height","renderTarget1","renderTarget2","passes","copyPass","clock","pass","splice","passIndex","getDelta","il","isLastEnabledPass","NOTEQUAL","swapBuffers","effectiveWidth","effectiveHeight","pixelRatio","overrideMaterial","clearAlpha","clearDepth","oldOverrideMaterial","finalComposer","bloomPass","composer","bloomLayer","bloomParams","exposure","bloomStrength","bloomThreshold","bloomRadius","light","BLOOM_SCENE","domContainer","baseThree","renderScene","offsetWidth","offsetHeight","addPass","finalPass","baseTexture","bloomTexture","ambientLight","pointLight","featureCylinder","animateFrame","waterJpg","waterNormalTexture","offsetX","u_color","offsetY","log","destroyWater","orbitControl","maxDistance","skyImg","background","bm","data","setResult","water","forEach","item","subItem","setup","__props","cityContainer","setCurrentSceneState","rotateBtn","isChecked","startRotate","ref_key","ref","__exports__","components","City","setToolbarState","routeControl","rotateControl","initControl","heatmapControl","flyLineControl","featurePointControl","distanceBufferControl","lightMaskControl","citySpriteControl"],"mappings":"kHAEA,EAAQ,QACR,IAAIA,EAAI,EAAQ,QACZC,EAAS,EAAQ,QACjBC,EAAO,EAAQ,QACfC,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAW,EAAQ,QAEnBC,EAAoB,WACtB,IAAIC,GAAa,EACbC,EAAK,OAKT,OAJAA,EAAGC,KAAO,WAER,OADAF,GAAa,EACN,IAAIE,KAAKC,MAAMC,KAAMC,aAEJ,IAAnBJ,EAAGK,KAAK,QAAmBN,EAPZ,GAUpBO,EAAQb,EAAOa,MACfC,EAAUZ,EAAY,IAAIU,MAI9Bb,EAAE,CAAEgB,OAAQ,SAAUC,OAAO,EAAMC,QAASZ,GAAqB,CAC/DO,KAAM,SAAUM,GACd,IAAIV,EAAOE,KAAKF,KAChB,IAAKL,EAAWK,GAAO,OAAOM,EAAQJ,KAAMQ,GAC5C,IAAIC,EAASlB,EAAKO,EAAME,KAAMQ,GAC9B,GAAe,OAAXC,IAAoBf,EAASe,GAC/B,MAAM,IAAIN,EAAM,sEAElB,QAASM,M,s9rCCjCbC,EAAOC,QAAU,IAA0B,0B,uBCA3C,IAAIC,EAAQ,EAAQ,QAChBtB,EAAS,EAAQ,QAGjBuB,EAAUvB,EAAOwB,OAErBJ,EAAOC,QAAUC,GAAM,WACrB,IAAIf,EAAKgB,EAAQ,UAAW,KAC5B,MAAiC,MAA1BhB,EAAGC,KAAK,KAAKiB,OAAOC,GACI,OAA7B,IAAIC,QAAQpB,EAAI,a,qBCTpBa,EAAOC,QAAU,8mF,oCCAjB,W,uBCAAD,EAAOC,QAAU,IAA0B,kC,i4zHCA3C,W,yDCGA,IAAIpB,EAAO,EAAQ,QACfC,EAAc,EAAQ,QACtB0B,EAAW,EAAQ,QACnBC,EAAc,EAAQ,QACtBC,EAAgB,EAAQ,QACxBC,EAAS,EAAQ,QACjBC,EAAS,EAAQ,QACjBC,EAAmB,EAAQ,QAA+BC,IAC1DC,EAAsB,EAAQ,QAC9BC,EAAkB,EAAQ,QAE1BC,EAAgBN,EAAO,wBAAyBO,OAAOC,UAAUZ,SACjEa,EAAahB,OAAOe,UAAU/B,KAC9BiC,EAAcD,EACdE,EAASxC,EAAY,GAAGwC,QACxBC,EAAUzC,EAAY,GAAGyC,SACzBhB,EAAUzB,EAAY,GAAGyB,SACzBiB,EAAc1C,EAAY,GAAG2C,OAE7BC,EAA2B,WAC7B,IAAIC,EAAM,IACNC,EAAM,MAGV,OAFA/C,EAAKuC,EAAYO,EAAK,KACtB9C,EAAKuC,EAAYQ,EAAK,KACG,IAAlBD,EAAIE,WAAqC,IAAlBD,EAAIC,UALL,GAQ3BC,EAAgBpB,EAAcqB,aAG9BC,OAAuCC,IAAvB,OAAO7C,KAAK,IAAI,GAEhC8C,EAAQR,GAA4BM,GAAiBF,GAAiBf,GAAuBC,EAE7FkB,IACFb,EAAc,SAAcc,GAC1B,IAIIpC,EAAQqC,EAAQP,EAAWQ,EAAOC,EAAGC,EAAQC,EAJ7CrD,EAAKG,KACLmD,EAAQ5B,EAAiB1B,GACzBW,EAAMU,EAAS2B,GACfO,EAAMD,EAAMC,IAGhB,GAAIA,EAIF,OAHAA,EAAIb,UAAY1C,EAAG0C,UACnB9B,EAASlB,EAAKwC,EAAaqB,EAAK5C,GAChCX,EAAG0C,UAAYa,EAAIb,UACZ9B,EAGT,IAAIM,EAASoC,EAAMpC,OACfsC,EAASb,GAAiB3C,EAAGwD,OAC7BC,EAAQ/D,EAAK4B,EAAatB,GAC1B0D,EAAS1D,EAAG0D,OACZC,EAAa,EACbC,EAAUjD,EA+Cd,GA7CI6C,IACFC,EAAQrC,EAAQqC,EAAO,IAAK,KACC,IAAzBrB,EAAQqB,EAAO,OACjBA,GAAS,KAGXG,EAAUvB,EAAY1B,EAAKX,EAAG0C,WAE1B1C,EAAG0C,UAAY,KAAO1C,EAAG6D,WAAa7D,EAAG6D,WAA+C,OAAlC1B,EAAOxB,EAAKX,EAAG0C,UAAY,MACnFgB,EAAS,OAASA,EAAS,IAC3BE,EAAU,IAAMA,EAChBD,KAIFV,EAAS,IAAIhC,OAAO,OAASyC,EAAS,IAAKD,IAGzCZ,IACFI,EAAS,IAAIhC,OAAO,IAAMyC,EAAS,WAAYD,IAE7ClB,IAA0BG,EAAY1C,EAAG0C,WAE7CQ,EAAQxD,EAAKuC,EAAYuB,EAASP,EAASjD,EAAI4D,GAE3CJ,EACEN,GACFA,EAAMY,MAAQzB,EAAYa,EAAMY,MAAOH,GACvCT,EAAM,GAAKb,EAAYa,EAAM,GAAIS,GACjCT,EAAMa,MAAQ/D,EAAG0C,UACjB1C,EAAG0C,WAAaQ,EAAM,GAAGc,QACpBhE,EAAG0C,UAAY,EACbH,GAA4BW,IACrClD,EAAG0C,UAAY1C,EAAGP,OAASyD,EAAMa,MAAQb,EAAM,GAAGc,OAAStB,GAEzDG,GAAiBK,GAASA,EAAMc,OAAS,GAG3CtE,EAAKoC,EAAeoB,EAAM,GAAID,GAAQ,WACpC,IAAKE,EAAI,EAAGA,EAAI/C,UAAU4D,OAAS,EAAGb,SACfL,IAAjB1C,UAAU+C,KAAkBD,EAAMC,QAAKL,MAK7CI,GAAShC,EAEX,IADAgC,EAAMhC,OAASkC,EAAS3B,EAAO,MAC1B0B,EAAI,EAAGA,EAAIjC,EAAO8C,OAAQb,IAC7BE,EAAQnC,EAAOiC,GACfC,EAAOC,EAAM,IAAMH,EAAMG,EAAM,IAInC,OAAOH,IAIXrC,EAAOC,QAAUoB,G,uBCpHjBrB,EAAOC,QAAU,IAA0B,yC,uBCA3C,IAAIC,EAAQ,EAAQ,QAChBtB,EAAS,EAAQ,QAGjBuB,EAAUvB,EAAOwB,OAEjB0B,EAAgB5B,GAAM,WACxB,IAAIf,EAAKgB,EAAQ,IAAK,KAEtB,OADAhB,EAAG0C,UAAY,EACW,MAAnB1C,EAAGC,KAAK,WAKbgE,EAAgBtB,GAAiB5B,GAAM,WACzC,OAAQC,EAAQ,IAAK,KAAKwC,UAGxBZ,EAAeD,GAAiB5B,GAAM,WAExC,IAAIf,EAAKgB,EAAQ,KAAM,MAEvB,OADAhB,EAAG0C,UAAY,EACU,MAAlB1C,EAAGC,KAAK,UAGjBY,EAAOC,QAAU,CACf8B,aAAcA,EACdqB,cAAeA,EACftB,cAAeA,I,kCC3BjB,IAAInD,EAAI,EAAQ,QACZS,EAAO,EAAQ,QAInBT,EAAE,CAAEgB,OAAQ,SAAUC,OAAO,EAAMC,OAAQ,IAAIT,OAASA,GAAQ,CAC9DA,KAAMA,K,kCCNR,IAAIiE,EAAW,EAAQ,QAIvBrD,EAAOC,QAAU,WACf,IAAIqD,EAAOD,EAAS/D,MAChBS,EAAS,GAOb,OANIuD,EAAK1E,SAAQmB,GAAU,KACvBuD,EAAKC,aAAYxD,GAAU,KAC3BuD,EAAKN,YAAWjD,GAAU,KAC1BuD,EAAKE,SAAQzD,GAAU,KACvBuD,EAAKG,UAAS1D,GAAU,KACxBuD,EAAKX,SAAQ5C,GAAU,KACpBA,I,qBCdTC,EAAOC,QAAU,IAA0B,0B,yDCGrCyD,EAAa,CAAEC,MAAO,aAEtB,SAAUC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,EAAkB,eAAkB,QAAQ,GAElD,OAAQ,iBAAc,eAAoB,MAAOT,EAAY,CAC3D,eAAaS,K,kCC4FbC,EACAC,EC3EA,EACAC,EACAC,EACAC,E,0DC1BEC,EAAS,CAAC,WAAY,SAGtBC,EAAsB,SAACC,GAE3B,IAF+D,IAAtBC,EAAsB,uDAAL,EACpD7E,EAAS,GACNuC,EAAI,EAAGA,EAAIqC,EAAQE,SAAS1B,OAAQb,IAAK,CAChD,IAAMwC,EAAWH,EAAQE,SAASvC,GAAGwC,SAC/BC,EAAOD,EAASC,KAChBC,EAAuB,IAAXJ,EAAe,EAAIK,KAAKC,SAAWN,EAE/CO,EAAM,CACVJ,OACAH,OAAQI,EACRI,SAAU,IAGZ,OAAQL,GACN,IAAK,QACHI,EAAIC,SAAW,EAAaN,EAASO,YAAaT,GAClD7E,EAAOuF,KAAKH,GACZ,MACF,IAAK,aACHA,EAAIC,SAAW,EAAYN,EAASO,YAAaT,GACjD7E,EAAOuF,KAAKH,GACZ,MACF,IAAK,UACHA,EAAIC,SAAW,EAAeN,EAASO,YAAaT,GACpD7E,EAAOuF,KAAKH,GACZ,OAIN,OAAOpF,GAGH,EAAoB,SAACkD,EAAY2B,GACrC,IAAM7E,EAAS,GAGf,OADAA,EAAOuF,KAAK,IAAI,QAAQrC,EAAM,GAAIA,EAAM,KACjClD,GAGH,EAAmB,SAACkD,EAAY2B,GAEpC,IADA,IAAM7E,EAAS,GACNuC,EAAI,EAAGA,EAAIW,EAAME,OAAQb,IAAK,CAGrC,MAAe,eAAeW,EAAMX,GAAG,GAAIW,EAAMX,GAAG,IAA7CiD,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EACVzF,EAAOuF,MAAMC,EAAEd,EAAO,IAAI,KAAMe,EAAEf,EAAO,IAAI,KAG/C,OAAO1E,GAGH,EAAsB,SAACkD,EAAY2B,GAEvC,IADA,IAAM7E,EAAS,GACNuC,EAAI,EAAGA,EAAIW,EAAME,OAAQb,IAAK,CAErC,IADA,IAAM6C,EAAM,GACHM,EAAI,EAAGA,EAAIxC,EAAMX,GAAGa,OAAQsC,IAAK,CAGxC,MAAe,eAAexC,EAAMX,GAAGmD,GAAG,GAAIxC,EAAMX,GAAGmD,GAAG,IAAnDF,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EACVL,EAAIG,MAAMC,EAAEd,EAAO,IAAI,KAAMe,EAAEf,EAAO,IAAI,KAE5C1E,EAAOuF,KAAP,MAAAvF,EAAeoF,GAEjB,OAAOpF,GFpEH2F,EAAc,EAAQ,QAEtBC,EAAK,0aAiBLC,EAAK,imFAmFL,EAAgB,SAACC,GACrB,IAAMf,EAAW,IAAI,QAAqB,EAAG,GAAI,GAAI,EAAa,EAAVG,KAAKa,GAAQ,EAAIb,KAAKa,GAAK,IAAO,IAEpFC,GAAU,IAAI,SAAsBC,KAAKN,GAEzCO,EAAW,IAAI,QAAqB,CACxCC,SAAU,CACRC,EAAG,CAAEC,MAAO,KACZC,EAAG,CAAED,MAAO,GACZE,kBAAmB,CAEjBF,MAAOL,GAETQ,OAAQ,CAAEH,OAAQ,KAClBI,aAAc,CAEZJ,MAAO,IAAI,QAAc,IAAK,MAEhCK,OAAQ,CAAEL,MAAO,IACjBM,UAAW,CAAEN,MAAO,IAAI,OAAY,WACpCO,WAAY,CAEVP,MAAOP,EAAOT,WAGlBwB,aAAcjB,EACdkB,eAAgBjB,EAChBkB,KAAM,OACNC,YAAY,EACZC,aAAa,IAGTC,EAAO,IAAI,OAAWnC,EAAUmB,GAQtC,OAPAgB,EAAKC,QAAQjC,KAAKa,GAAK,GACvBmB,EAAK7B,SAAS+B,IAAI,EAAG,EAAG,GAExBC,EAAiBH,GAEjB5C,EAAiB4C,EAEVA,GAGHG,EAAmB,SAACH,GACxB,IAAIV,EAAS,EACPc,EAAe,WACfd,GAAU,IAAKA,GAAU,KAC7BA,GAAU,IAEVU,EAAKhB,SAASC,SAASK,OAAOH,MAAQG,GAElCe,EAAY,SAAZA,IACJlD,EAAqBmD,sBAAsBD,GAC3CD,KAEFC,KAGIE,EAAoB,WACrBpD,GAAoBqD,qBAAqBrD,GACzCC,IACDA,EAAeS,SAAS4C,UAExBrD,EAAe4B,SAASyB,YCxIxBC,G,UAAyB,GAwCvB,EAAiB,SAACvC,EAAewC,GACrC,IAAMC,EAAW,EAAQ,QACnB9B,GAAU,IAAI,SAAsBC,KAAK6B,GAC/C9B,EAAQ+B,MAAQ,QAChB/B,EAAQgC,MAAQ,QAChBhC,EAAQiC,OAAOb,IAAI,EAAG,GAEtB,IAAMrC,EAAW,IAAI,OAA6B8C,EAAQA,EAAQ,EAAG,IAC/DK,EAAY,CAChB,IAAI,OAAwB,CAC1BC,IAAKnC,EACLe,KAAM,OACNE,aAAa,IAEf,IAAI,OAAwB,CAC1BA,aAAa,EACbmB,QAAS,EACTrB,KAAM,SAER,IAAI,OAAwB,CAC1BE,aAAa,EACbmB,QAAS,EACTrB,KAAM,UAaV,OATAtC,EAAe,IAAI,OAAWM,EAAUmD,GACxCzD,EAAaY,SAAS+B,IAAI/B,EAASG,EAAGH,EAASI,EAAGJ,EAASgD,GAC3D5D,EAAa6D,cACX,IAAI,QAAgBC,gBAAgB,EAAG,EAAG,KAE5C9D,EAAa0C,QAAkB,GAAVjC,KAAKa,IAE1ByC,EAAeX,GAERpD,GAGH+D,EAAiB,SAACX,GACtB,IAAMP,EAAe,WACnBM,GAAkB,IACdA,EAAiB,IACnBA,EAAiB,GAEfnD,GACFA,EAAagE,MAAMrB,IAAIQ,EAAgB,EAAGA,IAGxCL,EAAY,SAAZA,IACJ/C,EAAsBgD,sBAAsBD,GAC5CD,KAEFC,KAGImB,EAAwB,WACxB,GAAoBhB,qBAAqB,GACzCnD,IACFA,EAAmBQ,SAAS4C,UAE5BpD,EAAmB2B,SAASyB,WAG1BnD,GAAqBkD,qBAAqBlD,GAC1CC,IACFA,EAAaM,SAAS4C,UAEtBlD,EAAayB,SAAS,GAAGyB,UAEzBlD,EAAayB,SAAS,GAAGyB,UAEzBlD,EAAayB,SAAS,GAAGyB,YErH7B,MAAM,UAAc,OAEnB,YAAa5C,EAAU4D,EAAU,IAEhCC,MAAO7D,GAEP,MAAM8D,EAAQtJ,KAERuJ,OAAwC5G,IAAzByG,EAAQG,aAA6BH,EAAQG,aAAe,IAC3EC,OAA0C7G,IAA1ByG,EAAQI,cAA8BJ,EAAQI,cAAgB,IAE9EC,OAAgC9G,IAArByG,EAAQK,SAAyBL,EAAQK,SAAW,EAC/DC,OAA0B/G,IAAlByG,EAAQM,MAAsBN,EAAQM,MAAQ,EACtDC,OAAwBhH,IAAjByG,EAAQO,KAAqBP,EAAQO,KAAO,EACnDC,OAAyCjH,IAAzByG,EAAQS,aAA6BT,EAAQS,aAAe,KAC5EC,OAAwCnH,IAAzByG,EAAQU,aAA6BV,EAAQU,aAAe,IAAI,QAAS,OAAS,OAAS,GAC1GC,EAAW,IAAI,YAA4BpH,IAArByG,EAAQW,SAAyBX,EAAQW,SAAW,UAC1EC,EAAa,IAAI,YAA8BrH,IAAvByG,EAAQY,WAA2BZ,EAAQY,WAAa,SAChFC,OAAsBtH,IAAhByG,EAAQa,IAAoBb,EAAQa,IAAM,IAAI,QAAS,EAAG,EAAG,GACnEC,OAA8CvH,IAA5ByG,EAAQc,gBAAgCd,EAAQc,gBAAkB,GACpF1C,OAAwB7E,IAAjByG,EAAQ5B,KAAqB4B,EAAQ5B,KAAO,OACnD2C,OAAsBxH,IAAhByG,EAAQe,KAAoBf,EAAQe,IAI1CC,EAAc,IAAI,QAClBC,EAAS,IAAI,QACbC,EAAsB,IAAI,QAC1BC,EAAsB,IAAI,QAC1BC,EAAiB,IAAI,OACrBC,EAAiB,IAAI,QAAS,EAAG,GAAK,GACtCC,EAAY,IAAI,QAEhBC,EAAO,IAAI,QACXtK,EAAS,IAAI,QACbuK,EAAI,IAAI,QAERC,EAAgB,IAAI,OAEpBC,EAAe,IAAI,QAEnBC,EAAa,CAClBC,UAAW,OACXC,UAAW,OACXC,OAAQ,SAGHC,EAAe,IAAI,QAAmB5B,EAAcC,EAAeuB,GAElE,OAAUK,aAAc7B,IAAoB,OAAU6B,aAAc5B,KAE1E2B,EAAa1E,QAAQ4E,iBAAkB,GAIxC,MAAMC,EAAe,CAEpB1E,SAAU,QAAc2E,MAAO,CAC9B,QAAa,OACb,QAAa,UACb,CACC,cAAiB,CAAEzE,MAAO,MAC1B,cAAiB,CAAEA,MAAO,MAC1B,MAAS,CAAEA,MAAO,GAClB,KAAQ,CAAEA,MAAO,GACjB,KAAQ,CAAEA,MAAO,GACjB,gBAAmB,CAAEA,MAAO,IAC5B,cAAiB,CAAEA,MAAO,IAAI,QAC9B,SAAY,CAAEA,MAAO,IAAI,OAAO,UAChC,aAAgB,CAAEA,MAAO,IAAI,QAAS,OAAS,OAAS,IACxD,IAAO,CAAEA,MAAO,IAAI,SACpB,WAAc,CAAEA,MAAO,IAAI,OAAO,aAIpCQ,aAAwB,qyBA0BxBC,eAA0B,6pGA2ErBZ,EAAW,IAAI,QAAgB,CACpCY,eAAgB+D,EAAa/D,eAC7BD,aAAcgE,EAAahE,aAC3BV,SAAU,QAAc4E,MAAOF,EAAa1E,UAC5C6E,QAAQ,EACRjE,KAAMA,EACN2C,IAAKA,IAGNxD,EAASC,SAAU,iBAAkBE,MAAQqE,EAAa1E,QAC1DE,EAASC,SAAU,iBAAkBE,MAAQ+D,EAC7ClE,EAASC,SAAU,SAAUE,MAAQ4C,EACrC/C,EAASC,SAAU,QAASE,MAAQ6C,EACpChD,EAASC,SAAU,iBAAkBE,MAAQ8C,EAC7CjD,EAASC,SAAU,YAAaE,MAAQiD,EACxCpD,EAASC,SAAU,cAAeE,MAAQkD,EAC1CrD,EAASC,SAAU,gBAAiBE,MAAQgD,EAC5CnD,EAASC,SAAU,mBAAoBE,MAAQoD,EAE/CvD,EAASC,SAAU,OAAQE,MAAQmD,EAEnCX,EAAM3C,SAAWA,EAEjB2C,EAAMoC,eAAiB,SAAWC,EAAUC,EAAOrF,GAclD,GAZA+D,EAAoBuB,sBAAuBvC,EAAMwC,aACjDvB,EAAoBsB,sBAAuBtF,EAAOuF,aAElDtB,EAAeuB,gBAAiBzC,EAAMwC,aAEtCzB,EAAOxC,IAAK,EAAG,EAAG,GAClBwC,EAAOtB,aAAcyB,GAErBG,EAAKqB,WAAY1B,EAAqBC,GAIjCI,EAAKsB,IAAK5B,GAAW,EAAI,OAE9BM,EAAKuB,QAAS7B,GAAS8B,SACvBxB,EAAKyB,IAAK9B,GAEVE,EAAeuB,gBAAiBxF,EAAOuF,aAEvCrB,EAAe5C,IAAK,EAAG,GAAK,GAC5B4C,EAAe1B,aAAcyB,GAC7BC,EAAe2B,IAAK7B,GAEpBlK,EAAO2L,WAAY1B,EAAqBG,GACxCpK,EAAO6L,QAAS7B,GAAS8B,SACzB9L,EAAO+L,IAAK9B,GAEZQ,EAAahF,SAASuG,KAAM1B,GAC5BG,EAAawB,GAAGzE,IAAK,EAAG,EAAG,GAC3BiD,EAAawB,GAAGvD,aAAcyB,GAC9BM,EAAawB,GAAGJ,QAAS7B,GACzBS,EAAayB,OAAQlM,GAErByK,EAAa0B,IAAMjG,EAAOiG,IAE1B1B,EAAa2B,oBACb3B,EAAa4B,iBAAiBL,KAAM9F,EAAOmG,kBAG3C7B,EAAchD,IACb,GAAK,EAAK,EAAK,GACf,EAAK,GAAK,EAAK,GACf,EAAK,EAAK,GAAK,GACf,EAAK,EAAK,EAAK,GAEhBgD,EAAc8B,SAAU7B,EAAa4B,kBACrC7B,EAAc8B,SAAU7B,EAAa8B,oBAIrCxC,EAAYyC,8BAA+BxC,EAAQC,GACnDF,EAAYrB,aAAc+B,EAAa8B,oBAEvClC,EAAU7C,IAAKuC,EAAYC,OAAOpE,EAAGmE,EAAYC,OAAOnE,EAAGkE,EAAYC,OAAOvB,EAAGsB,EAAY0C,UAE7F,MAAMJ,EAAmB5B,EAAa4B,iBAEtC9B,EAAE3E,GAAMN,KAAKoH,KAAMrC,EAAUzE,GAAMyG,EAAiBM,SAAU,IAAQN,EAAiBM,SAAU,GACjGpC,EAAE1E,GAAMP,KAAKoH,KAAMrC,EAAUxE,GAAMwG,EAAiBM,SAAU,IAAQN,EAAiBM,SAAU,GACjGpC,EAAE9B,GAAM,EACR8B,EAAEqC,GAAM,EAAMP,EAAiBM,SAAU,KAASN,EAAiBM,SAAU,IAG7EtC,EAAUwC,eAAgB,EAAMxC,EAAUuB,IAAKrB,IAG/C8B,EAAiBM,SAAU,GAAMtC,EAAUzE,EAC3CyG,EAAiBM,SAAU,GAAMtC,EAAUxE,EAC3CwG,EAAiBM,SAAU,IAAOtC,EAAU5B,EAAI,EAAMW,EACtDiD,EAAiBM,SAAU,IAAOtC,EAAUuC,EAE5ChD,EAAI4B,sBAAuBtF,EAAOuF,aAIlC,MAAMqB,EAAsBxB,EAASyB,kBAE/BC,EAAmB1B,EAAS2B,GAAGC,QAC/BC,EAA0B7B,EAAS8B,UAAUC,WAEnDpE,EAAMqE,SAAU,EAEhBhC,EAAS2B,GAAGC,SAAU,EACtB5B,EAAS8B,UAAUC,YAAa,EAEhC/B,EAASiC,gBAAiBzC,GAE1BQ,EAASxI,MAAM0K,QAAQC,MAAMC,SAAS,IAEV,IAAvBpC,EAASqC,WAAsBrC,EAASsC,QAC7CtC,EAASrH,OAAQsH,EAAOd,GAExBxB,EAAMqE,SAAU,EAEhBhC,EAAS2B,GAAGC,QAAUF,EACtB1B,EAAS8B,UAAUC,WAAaF,EAEhC7B,EAASiC,gBAAiBT,GAI1B,MAAMe,EAAW3H,EAAO2H,cAENvL,IAAbuL,GAEJvC,EAASxI,MAAM+K,SAAUA,KAU7B,EAAMrM,UAAUsM,SAAU,E,IC5StBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,E,YAuCE,EAAoB,SAAChO,GAEzB,IADA,IAAMiO,EAAa,IAAI,OACd1L,EAAI,EAAGA,EAAIvC,EAAOoD,OAAQb,GAAK,EAAG,CACzC,IAAM2L,EAAQ,IAAI,QAClBA,EAAMC,OAAOnO,EAAOuC,GAAG8C,SAAS,GAAIrF,EAAOuC,GAAG8C,SAAS,IACvD,IAAK,IAAIK,EAAI,EAAGA,EAAI1F,EAAOuC,GAAG8C,SAASjC,OAAQsC,GAAK,EAClDwI,EAAME,OAAOpO,EAAOuC,GAAG8C,SAASK,GAAI1F,EAAOuC,GAAG8C,SAASK,EAAI,IAE7D,IAAMX,EAAW,IAAI,OAAsBmJ,EAAO,CAChDG,MAAO,EACPhB,MAAOrN,EAAOuC,GAAGsC,OACjByJ,cAAc,EACdC,eAAgB,EAChBC,UAAW,EACXC,YAAa,EACbC,cAAe,IAEXC,EAAa,IAAI,QAA2B,CAChDC,MAAO,IAAI,OAAY,SACvBC,UAAW,EACXC,UAAW,KAEP5H,EAAO,IAAI,OAAWnC,EAAU4J,GACtCV,EAAWtC,IAAIzE,GAKjB,OAFAyG,EAAeM,EAERA,GAGH,EAAc,SAACjO,GAOnB,IANA,IAAMiO,EAAa,IAAI,OACjBc,EAAU,EAAQ,QAKfxM,IAJO,IAAI,QAA0B0D,KAC5C,IAAI+I,MAAM,GAAGC,KAAKF,IAGP,GAAGxM,EAAIvC,EAAOoD,OAAQb,GAAK,EAAG,CAEzC,IAAM2L,EAAQ,IAAI,QAClBA,EAAMC,OAAOnO,EAAOuC,GAAG8C,SAAS,GAAIrF,EAAOuC,GAAG8C,SAAS,IACvD,IAAK,IAAIK,EAAI,EAAGA,EAAI1F,EAAOuC,GAAG8C,SAASjC,OAAQsC,GAAK,EAClDwI,EAAME,OAAOpO,EAAOuC,GAAG8C,SAASK,GAAI1F,EAAOuC,GAAG8C,SAASK,EAAI,IAE7D,IAAMX,EAAW,IAAI,QAAoBmJ,GACnCS,EAAa,IAAI,OAAwB,CAC7CC,MAAO,IAAI,OAAY,KAEvBM,WAAW,IAEPhI,EAAO,IAAI,OAAWnC,EAAU4J,GACtCV,EAAWtC,IAAIzE,GAKjB,OAFA0G,EAAWK,EAEJA,GAGH,EAAY,SAACjO,GACjB6N,EAAU,IAAI,OAAQ,EAAG,GAAI,KAI7B,IAHA,IAAMI,EAAa,IAAI,OACjBkB,EAAc,GACdC,EAAY,GACT7M,EAAI,EAAGA,EAAIvC,EAAOoD,OAAQb,GAAK,EAAG,CAEzC,IADA,IAAM6C,EAAM,GACHM,EAAI,EAAGA,EAAI1F,EAAOuC,GAAG8C,SAASjC,OAAQsC,GAAK,EAClDN,EAAIG,KACF,IAAI,QAAcvF,EAAOuC,GAAG8C,SAASK,GAAI1F,EAAOuC,GAAG8C,SAASK,EAAI,GAAI,IAEtE0J,EAAU7J,KACR,IAAI,QAAcL,KAAKC,SAAUD,KAAKC,SAAUD,KAAKC,WAGzD,IAAMkK,EAAQ,IAAI,OAAuBjK,GAEnCkK,EAASD,EAAME,UAAU,KAC/BJ,EAAY5J,KAAK+J,GAEnBzB,EAAQ2B,aAAaL,EAAaC,GAClC,IAAK,IAAI,EAAI,EAAG,EAAIvB,EAAQ4B,UAAUrM,OAAQ,IAC5C6K,EAAWtC,IAAIkC,EAAQ4B,UAAU,IAMnC,OAJA5B,EAAQ6B,WAAW,CAAExG,KAAM,GAAO,CAAEA,KAAM,IAAO,KAEjD4E,EAAaG,EAENA,GAGH,EAAe,SAACjO,GACpB,IAAMiO,EAAa,IAAI,OACjB0B,EAAW,EAAQ,QACnBC,GAAe,IAAI,SAAsB3J,KAAK0J,GACpDC,EAAa7H,MAAQ,QACrB6H,EAAa5H,MAAQ,QACrB,IAAK,IAAIzF,EAAI,EAAGA,EAAIvC,EAAOoD,OAAQb,GAAK,EAAG,CAEzC,IAAM2L,EAAQ,IAAI,QAClBA,EAAMC,OAAOnO,EAAOuC,GAAG8C,SAAS,GAAIrF,EAAOuC,GAAG8C,SAAS,IACvD,IAAK,IAAIK,EAAI,EAAGA,EAAI1F,EAAOuC,GAAG8C,SAASjC,OAAQsC,GAAK,EAClDwI,EAAME,OAAOpO,EAAOuC,GAAG8C,SAASK,GAAI1F,EAAOuC,GAAG8C,SAASK,EAAI,IAE7D,IAAMX,EAAW,IAAI,QAAoBmJ,GACnCS,EAAa,IAAI,OAAwB,CAC7CxG,IAAKyH,EACLV,WAAW,IAEPhI,EAAO,IAAI,OAAWnC,EAAU4J,GACtCV,EAAWtC,IAAIzE,GAKjB,OAFA8G,EAAgBC,EAETA,GAwDH4B,EAAa,WACjB,GAAIjC,EAAU,CACZ,MAAOA,EAASkC,SAAS1M,OAAS,EAC/BwK,EAASkC,SAAS,GAAkB/K,SAAS4C,UAE7CiG,EAASkC,SAAS,GAAkB5J,SAASyB,UAC9CiG,EAASmC,OAAOnC,EAASkC,SAAS,IAEpClC,EAAS7I,SAAS4C,UAElBiG,EAAS1H,SAASyB,UAEpB,GAAIgG,EAAc,CAChB,MAAOA,EAAamC,SAAS1M,OAAS,EACnCuK,EAAamC,SAAS,GAAkB/K,SAAS4C,UAEjDgG,EAAamC,SAAS,GAAkB5J,SAASyB,UAClDgG,EAAaoC,OAAOpC,EAAamC,SAAS,IAE5CnC,EAAa5I,SAAS4C,UAEtBgG,EAAazH,SAASyB,UAExB,GAAImG,EAAY,CACdD,EAAQmC,QAAQlC,GAChB,MAAOA,EAAWgC,SAAS1M,OAAS,EACjC0K,EAAWgC,SAAS,GAAkB/K,SAAS4C,UAE/CmG,EAAWgC,SAAS,GAAkB5J,SAASyB,UAChDmG,EAAWiC,OAAOjC,EAAWgC,SAAS,IAExChC,EAAW/I,SAAS4C,UAEpBmG,EAAW5H,SAASyB,UAEtB,GAAIoG,EAAW,CACT,GAAoBrG,qBAAqB,GAC7C,MAAOqG,EAAU+B,SAAS1M,OAAS,EAChC2K,EAAU+B,SAAS,GAAkB/K,SAAS4C,UAE9CoG,EAAU+B,SAAS,GAAkB5J,SAASyB,UAC/CoG,EAAUgC,OAAOhC,EAAU+B,SAAS,IAEtC/B,EAAUhJ,SAAS4C,UAEnBoG,EAAU7H,SAASyB,UAErB,GAAIqG,EAAe,CACjB,MAAOA,EAAc8B,SAAS1M,OAAS,EACpC4K,EAAc8B,SAAS,GAAkB/K,SAAS4C,UAElDqG,EAAc8B,SAAS,GAAkB5J,SAASyB,UACnDqG,EAAc+B,OAAO/B,EAAc8B,SAAS,IAE9C9B,EAAcjJ,SAAS4C,UAEvBqG,EAAc9H,SAASyB,Y,oCCtTrB,EAAK,yJASL,EAAK,weAcLsI,EAAM,EAAQ,QACdC,GAAa,IAAI,SAAsBjK,KAAKgK,GAE5C,E,WAQJ,WAAY5K,GAAoB,uBAC9B9F,KAAK8F,SAAWA,EAChB9F,KAAKS,OAAS,IAAI,OAClBT,KAAK8E,mBAAqB,EAC1B9E,KAAK4Q,UAAY,KACjB5Q,KAAK6Q,SAAW,GAChB7Q,KAAK8Q,UAAY,EACjB9Q,KAAK+Q,MAAQ,E,gDAGf,WACE,IAAK,IAAI/N,EAAI,EAAGA,EAAIhD,KAAK8F,SAASjC,OAAQb,GAAK,EAAG,CAChD,IAAM2E,EAAO3H,KAAKgR,mBAChBhR,KAAK8F,SAAS9C,GAAG,GACjBhD,KAAK8F,SAAS9C,GAAG,GACjB,GAEFhD,KAAKS,OAAO2L,IAAIzE,GAChB3H,KAAK6Q,SAAS7K,KAAK2B,M,gCAIvB,SAAmB1B,EAAWC,EAAW4C,GACvC,IAAMtD,EAAW,IAAI,OACnB,EACA,GACA,EACA,EACA,GACA,EACA,EACA,KAEImB,EAAW,IAAI,QAAqB,CACxCC,SAAU,CACRqK,iBAAkB,CAChBnK,MAAO6J,GAEThH,KAAM,CACJ7C,MAAO,GAEToK,OAAQ,CACNpK,MAAO,IAAI,OAAY,aAG3BQ,aAAc,EACdC,eAAgB,EAChBC,KAAM,OACNE,aAAa,IAGTC,EAAO,IAAI,OAAWnC,EAAUmB,GAItC,OAHAgB,EAAK7B,SAAS+B,IAAI5B,EAAGC,EAAG4C,GACxBnB,EAAKC,SAASjC,KAAKa,GAAK,GAEjBmB,I,wBAGT,SAAWwJ,EAAoBC,EAAkBC,GAAgB,WACzDtJ,EAAe,SAAC4B,GACpB,IAAK,IAAI2H,EAAI,EAAGA,EAAI,EAAKT,SAAShN,OAAQyN,GAAK,EAE7C,EAAKT,SAASS,GAAG3K,SAASC,SAAS+C,KAAK7C,MAAQ6C,EAChD,EAAKoH,OAAS,IACd,EAAKF,SAASS,GAAG9L,SAAS+L,QAAQ,KAClC,EAAKT,UAAYnL,KAAK6L,IAAI,EAAKT,OAAS,EAAI,KAAQ,IACpD,EAAKF,SAASS,GAAG9L,SAASsL,UACxB,EACA,EAAKA,UACL,IAIN9Q,KAAK4Q,UAAY,IAAI,OAAMO,GACxBM,GAAGL,EAAaC,GAChBK,OAAO,OAAOC,OAAOC,MACrBC,UAAS,WACR9J,EAAaoJ,EAAcxH,SAE5BmI,QAAO,WACN,EAAKlB,UAAY,QAElBmB,YAAW,WACV,EAAKnB,UAAY,QAElBlI,OAAOsJ,KACPC,QAEH,IAAMC,EAAU,SAAVA,EAAWvI,GACQ,OAAnB,EAAKiH,YACP,EAAK9L,mBAAqBmD,sBAAsBiK,GAChD,EAAKtB,UAAUuB,OAAOxI,KAG1BuI,EAAQ,K,qBAGV,WACKlS,KAAK8E,oBAAoBqD,qBAAqBnI,KAAK8E,oBACtD,MAAO9E,KAAKS,OAAO8P,SAAS1M,OAAS,EAClC7D,KAAKS,OAAO8P,SAAS,GAAkB/K,SAAS4C,UAEhDpI,KAAKS,OAAO8P,SAAS,GAAkB5J,SAASyB,UACjDpI,KAAKS,OAAO+P,OAAOxQ,KAAKS,OAAO8P,SAAS,IAE1CvQ,KAAKS,OAAO+E,SAAS4C,UAErBpI,KAAKS,OAAOkG,SAASyB,c,yBCzIzB,MAAMgK,EAEL,cAGCpS,KAAKuN,SAAU,EAGfvN,KAAKqS,WAAY,EAGjBrS,KAAKiO,OAAQ,EAGbjO,KAAKsS,gBAAiB,EAIvB,WAEA,SAECC,QAAQC,MAAO,+DAQjB,MAAMC,EAAU,IAAI,SAAsB,EAAG,EAAG,GAAK,EAAG,EAAG,GAIrDC,GAAY,IAAI,OACtBA,GAAUC,aAAc,WAAY,IAAI,OAAwB,EAAI,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,GAAK,EAAG,GAAK,IACvGD,GAAUC,aAAc,KAAM,IAAI,OAAwB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,IAEhF,MAAM,GAEL,YAAahM,GAEZ3G,KAAK4S,MAAQ,IAAI,OAAMF,GAAW/L,GAInC,UAEC3G,KAAK4S,MAAMpN,SAAS4C,UAIrB,OAAQuD,GAEPA,EAASrH,OAAQtE,KAAK4S,MAAOH,GAI9B,eAEC,OAAOzS,KAAK4S,MAAMjM,SAInB,aAAcG,GAEb9G,KAAK4S,MAAMjM,SAAWG,GCrExB,IAAI+L,GAAa,CAEhBjM,SAAU,CAET,SAAY,CAAEE,MAAO,MACrB,QAAW,CAAEA,MAAO,IAIrBQ,aAAwB,8JAWxBC,eAA0B,qNCf3B,MAAMuL,GAA2B,CAEhCC,SAAU,qBAEVnM,SAAU,CAET,SAAY,CAAEE,MAAO,MACrB,oBAAuB,CAAEA,MAAO,GAChC,YAAe,CAAEA,MAAO,GACxB,aAAgB,CAAEA,MAAO,IAAI,OAAO,IACpC,eAAkB,CAAEA,MAAO,IAI5BQ,aAAwB,gKAYxBC,eAA0B,wlBCV3B,MAAM,WAAwB6K,EAE7B,YAAaY,EAAYC,EAAU3K,EAAQ4K,GAE1C7J,QAEArJ,KAAKiT,cAA0BtQ,IAAbsQ,EAA2BA,EAAW,EACxDjT,KAAKsI,OAASA,EACdtI,KAAKkT,UAAYA,EACjBlT,KAAKgT,gBAA8BrQ,IAAfqQ,EAA6B,IAAI,QAASA,EAAW/M,EAAG+M,EAAW9M,GAAM,IAAI,QAAS,IAAK,KAG/GlG,KAAKmT,WAAa,IAAI,OAAO,EAAG,EAAG,GAGnC,MAAMC,EAAO,CAAEpI,UAAW,OAAcC,UAAW,OAAcC,OAAQ,SACzElL,KAAKqT,wBAA0B,GAC/BrT,KAAKsT,sBAAwB,GAC7BtT,KAAKuT,MAAQ,EACb,IAAIC,EAAO7N,KAAK8N,MAAOzT,KAAKgT,WAAW/M,EAAI,GACvCyN,EAAO/N,KAAK8N,MAAOzT,KAAKgT,WAAW9M,EAAI,GAE3ClG,KAAK2T,mBAAqB,IAAI,QAAmBH,EAAME,EAAMN,GAC7DpT,KAAK2T,mBAAmBlN,QAAQmN,KAAO,yBACvC5T,KAAK2T,mBAAmBlN,QAAQ4E,iBAAkB,EAElD,IAAM,IAAIrI,EAAI,EAAGA,EAAIhD,KAAKuT,MAAOvQ,IAAO,CAEvC,MAAM6Q,EAAwB,IAAI,QAAmBL,EAAME,EAAMN,GAEjES,EAAsBpN,QAAQmN,KAAO,oBAAsB5Q,EAC3D6Q,EAAsBpN,QAAQ4E,iBAAkB,EAEhDrL,KAAKqT,wBAAwBrN,KAAM6N,GAEnC,MAAMC,EAAuB,IAAI,QAAmBN,EAAME,EAAMN,GAEhEU,EAAqBrN,QAAQmN,KAAO,oBAAsB5Q,EAC1D8Q,EAAqBrN,QAAQ4E,iBAAkB,EAE/CrL,KAAKsT,sBAAsBtN,KAAM8N,GAEjCN,EAAO7N,KAAK8N,MAAOD,EAAO,GAE1BE,EAAO/N,KAAK8N,MAAOC,EAAO,QAMO/Q,IAA7BmQ,IACJP,QAAQC,MAAO,4DAEhB,MAAMuB,EAAiBjB,GACvB9S,KAAKgU,iBAAmB,QAAcxI,MAAOuI,EAAenN,UAE5D5G,KAAKgU,iBAAkB,uBAAwBlN,MAAQoM,EACvDlT,KAAKgU,iBAAkB,eAAgBlN,MAAQ,IAE/C9G,KAAKiU,uBAAyB,IAAI,QAAgB,CACjDrN,SAAU5G,KAAKgU,iBACf1M,aAAcyM,EAAezM,aAC7BC,eAAgBwM,EAAexM,eAC/B2M,QAAS,KAIVlU,KAAKmU,uBAAyB,GAC9B,MAAMC,EAAkB,CAAE,EAAG,EAAG,EAAG,EAAG,IACtCZ,EAAO7N,KAAK8N,MAAOzT,KAAKgT,WAAW/M,EAAI,GACvCyN,EAAO/N,KAAK8N,MAAOzT,KAAKgT,WAAW9M,EAAI,GAEvC,IAAM,IAAIlD,EAAI,EAAGA,EAAIhD,KAAKuT,MAAOvQ,IAEhChD,KAAKmU,uBAAuBnO,KAAMhG,KAAKqU,yBAA0BD,EAAiBpR,KAElFhD,KAAKmU,uBAAwBnR,GAAI4D,SAAU,WAAYE,MAAQ,IAAI,QAAS0M,EAAME,GAElFF,EAAO7N,KAAK8N,MAAOD,EAAO,GAE1BE,EAAO/N,KAAK8N,MAAOC,EAAO,GAK3B1T,KAAKsU,kBAAoBtU,KAAKuU,qBAAsBvU,KAAKuT,OACzDvT,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ9G,KAAKsT,sBAAuB,GAAI7M,QAC1FzG,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ9G,KAAKsT,sBAAuB,GAAI7M,QAC1FzG,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ9G,KAAKsT,sBAAuB,GAAI7M,QAC1FzG,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ9G,KAAKsT,sBAAuB,GAAI7M,QAC1FzG,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ9G,KAAKsT,sBAAuB,GAAI7M,QAC1FzG,KAAKsU,kBAAkB1N,SAAU,iBAAkBE,MAAQmM,EAC3DjT,KAAKsU,kBAAkB1N,SAAU,eAAgBE,MAAQ,GACzD9G,KAAKsU,kBAAkBE,aAAc,EAErC,MAAMC,EAAe,CAAE,EAAK,GAAK,GAAK,GAAK,IAC3CzU,KAAKsU,kBAAkB1N,SAAU,gBAAiBE,MAAQ2N,EAC1DzU,KAAK0U,gBAAkB,CAAE,IAAI,QAAS,EAAG,EAAG,GAAK,IAAI,QAAS,EAAG,EAAG,GAAK,IAAI,QAAS,EAAG,EAAG,GAAK,IAAI,QAAS,EAAG,EAAG,GAAK,IAAI,QAAS,EAAG,EAAG,IAC5I1U,KAAKsU,kBAAkB1N,SAAU,mBAAoBE,MAAQ9G,KAAK0U,qBAG9C/R,IAAfkQ,IAEJN,QAAQC,MAAO,8CAIhB,MAAMmC,EAAa9B,GAEnB7S,KAAK4U,aAAe,QAAcpJ,MAAOmJ,EAAW/N,UACpD5G,KAAK4U,aAAc,WAAY9N,MAAQ,EAEvC9G,KAAK6U,aAAe,IAAI,QAAgB,CACvCjO,SAAU5G,KAAK4U,aACftN,aAAcqN,EAAWrN,aACzBC,eAAgBoN,EAAWpN,eAC3BuN,SAAU,OACVnF,WAAW,EACXlI,YAAY,EACZC,aAAa,IAGd1H,KAAKuN,SAAU,EACfvN,KAAKqS,WAAY,EAEjBrS,KAAK+U,eAAiB,IAAI,OAC1B/U,KAAKgV,cAAgB,EAErBhV,KAAKiV,MAAQ,IAAI,OAEjBjV,KAAKkV,OAAS,IAAI,GAAgB,MAInC,UAEC,IAAM,IAAIlS,EAAI,EAAGA,EAAIhD,KAAKqT,wBAAwBxP,OAAQb,IAEzDhD,KAAKqT,wBAAyBrQ,GAAIoF,UAInC,IAAM,IAAIpF,EAAI,EAAGA,EAAIhD,KAAKsT,sBAAsBzP,OAAQb,IAEvDhD,KAAKsT,sBAAuBtQ,GAAIoF,UAIjCpI,KAAK2T,mBAAmBvL,UAIzB,QAAS+M,EAAO7P,GAEf,IAAIkO,EAAO7N,KAAK8N,MAAO0B,EAAQ,GAC3BzB,EAAO/N,KAAK8N,MAAOnO,EAAS,GAEhCtF,KAAK2T,mBAAmByB,QAAS5B,EAAME,GAEvC,IAAM,IAAI1Q,EAAI,EAAGA,EAAIhD,KAAKuT,MAAOvQ,IAEhChD,KAAKqT,wBAAyBrQ,GAAIoS,QAAS5B,EAAME,GACjD1T,KAAKsT,sBAAuBtQ,GAAIoS,QAAS5B,EAAME,GAE/C1T,KAAKmU,uBAAwBnR,GAAI4D,SAAU,WAAYE,MAAQ,IAAI,QAAS0M,EAAME,GAElFF,EAAO7N,KAAK8N,MAAOD,EAAO,GAC1BE,EAAO/N,KAAK8N,MAAOC,EAAO,GAM5B,OAAQ/H,EAAU0J,EAAaC,EAAYC,EAAWC,GAErD7J,EAAS8J,cAAezV,KAAK+U,gBAC7B/U,KAAKgV,cAAgBrJ,EAAS+J,gBAC9B,MAAMC,EAAehK,EAASqC,UAC9BrC,EAASqC,WAAY,EAErBrC,EAASiK,cAAe5V,KAAKmT,WAAY,GAEpCqC,GAAa7J,EAASxI,MAAM0K,QAAQgI,QAAQC,SAAS,GAIrD9V,KAAKsS,iBAETtS,KAAKkV,OAAOvO,SAAW3G,KAAKiV,MAC5BjV,KAAKiV,MAAMrM,IAAM0M,EAAW7O,QAE5BkF,EAASiC,gBAAiB,MAC1BjC,EAASsC,QACTjO,KAAKkV,OAAO5Q,OAAQqH,IAMrB3L,KAAKgU,iBAAkB,YAAalN,MAAQwO,EAAW7O,QACvDzG,KAAKgU,iBAAkB,uBAAwBlN,MAAQ9G,KAAKkT,UAC5DlT,KAAKkV,OAAOvO,SAAW3G,KAAKiU,uBAE5BtI,EAASiC,gBAAiB5N,KAAK2T,oBAC/BhI,EAASsC,QACTjO,KAAKkV,OAAO5Q,OAAQqH,GAIpB,IAAIoK,EAAoB/V,KAAK2T,mBAE7B,IAAM,IAAI3Q,EAAI,EAAGA,EAAIhD,KAAKuT,MAAOvQ,IAEhChD,KAAKkV,OAAOvO,SAAW3G,KAAKmU,uBAAwBnR,GAEpDhD,KAAKmU,uBAAwBnR,GAAI4D,SAAU,gBAAiBE,MAAQiP,EAAkBtP,QACtFzG,KAAKmU,uBAAwBnR,GAAI4D,SAAU,aAAcE,MAAQ,GAAgBkP,eACjFrK,EAASiC,gBAAiB5N,KAAKqT,wBAAyBrQ,IACxD2I,EAASsC,QACTjO,KAAKkV,OAAO5Q,OAAQqH,GAEpB3L,KAAKmU,uBAAwBnR,GAAI4D,SAAU,gBAAiBE,MAAQ9G,KAAKqT,wBAAyBrQ,GAAIyD,QACtGzG,KAAKmU,uBAAwBnR,GAAI4D,SAAU,aAAcE,MAAQ,GAAgBmP,eACjFtK,EAASiC,gBAAiB5N,KAAKsT,sBAAuBtQ,IACtD2I,EAASsC,QACTjO,KAAKkV,OAAO5Q,OAAQqH,GAEpBoK,EAAoB/V,KAAKsT,sBAAuBtQ,GAMjDhD,KAAKkV,OAAOvO,SAAW3G,KAAKsU,kBAC5BtU,KAAKsU,kBAAkB1N,SAAU,iBAAkBE,MAAQ9G,KAAKiT,SAChEjT,KAAKsU,kBAAkB1N,SAAU,eAAgBE,MAAQ9G,KAAKsI,OAC9DtI,KAAKsU,kBAAkB1N,SAAU,mBAAoBE,MAAQ9G,KAAK0U,gBAElE/I,EAASiC,gBAAiB5N,KAAKqT,wBAAyB,IACxD1H,EAASsC,QACTjO,KAAKkV,OAAO5Q,OAAQqH,GAIpB3L,KAAKkV,OAAOvO,SAAW3G,KAAK6U,aAC5B7U,KAAK4U,aAAc,YAAa9N,MAAQ9G,KAAKqT,wBAAyB,GAAI5M,QAErE+O,GAAa7J,EAASxI,MAAM0K,QAAQgI,QAAQC,SAAS,GAErD9V,KAAKsS,gBAET3G,EAASiC,gBAAiB,MAC1B5N,KAAKkV,OAAO5Q,OAAQqH,KAIpBA,EAASiC,gBAAiB0H,GAC1BtV,KAAKkV,OAAO5Q,OAAQqH,IAMrBA,EAASiK,cAAe5V,KAAK+U,eAAgB/U,KAAKgV,eAClDrJ,EAASqC,UAAY2H,EAItB,yBAA0BO,GAEzB,OAAO,IAAI,QAAgB,CAE1BhC,QAAS,CACR,cAAiBgC,EACjB,MAASA,GAGVtP,SAAU,CACT,aAAgB,CAAEE,MAAO,MACzB,QAAW,CAAEA,MAAO,IAAI,QAAS,GAAK,KACtC,UAAa,CAAEA,MAAO,IAAI,QAAS,GAAK,MAGzCQ,aACC,gKAMDC,eACC,6gCA6BH,qBAAsBgM,GAErB,OAAO,IAAI,QAAgB,CAE1BW,QAAS,CACR,SAAYX,GAGb3M,SAAU,CACT,aAAgB,CAAEE,MAAO,MACzB,aAAgB,CAAEA,MAAO,MACzB,aAAgB,CAAEA,MAAO,MACzB,aAAgB,CAAEA,MAAO,MACzB,aAAgB,CAAEA,MAAO,MACzB,YAAe,CAAEA,MAAO,MACxB,cAAiB,CAAEA,MAAO,GAC1B,aAAgB,CAAEA,MAAO,MACzB,gBAAmB,CAAEA,MAAO,MAC5B,YAAe,CAAEA,MAAO,IAGzBQ,aACC,gKAMDC,eACC,ktCA8BJ,GAAgByO,eAAiB,IAAI,QAAS,EAAK,GACnD,GAAgBC,eAAiB,IAAI,QAAS,EAAK,GC/YnD,MAAM,WAAmB7D,EAExB,YAAa+D,EAAQC,GAEpB/M,QAEArJ,KAAKoW,eAA4BzT,IAAdyT,EAA4BA,EAAY,WAEtDD,aAAkB,SAEtBnW,KAAK4G,SAAWuP,EAAOvP,SAEvB5G,KAAK2G,SAAWwP,GAELA,IAEXnW,KAAK4G,SAAW,QAAc4E,MAAO2K,EAAOvP,UAE5C5G,KAAK2G,SAAW,IAAI,QAAgB,CAEnCuN,QAASmC,OAAOC,OAAQ,GAAIH,EAAOjC,SACnCtN,SAAU5G,KAAK4G,SACfU,aAAc6O,EAAO7O,aACrBC,eAAgB4O,EAAO5O,kBAMzBvH,KAAKkV,OAAS,IAAI,GAAgBlV,KAAK2G,UAIxC,OAAQgF,EAAU0J,EAAaC,GAEzBtV,KAAK4G,SAAU5G,KAAKoW,aAExBpW,KAAK4G,SAAU5G,KAAKoW,WAAYtP,MAAQwO,EAAW7O,SAIpDzG,KAAKkV,OAAOvO,SAAW3G,KAAK2G,SAEvB3G,KAAKsS,gBAET3G,EAASiC,gBAAiB,MAC1B5N,KAAKkV,OAAO5Q,OAAQqH,KAIpBA,EAASiC,gBAAiByH,GAErBrV,KAAKiO,OAAQtC,EAASsC,MAAOtC,EAAS4K,eAAgB5K,EAAS6K,eAAgB7K,EAAS8K,kBAC7FzW,KAAKkV,OAAO5Q,OAAQqH,KCzDvB,MAAM,WAAiByG,EAEtB,YAAaxG,EAAOrF,GAEnB8C,QAEArJ,KAAK4L,MAAQA,EACb5L,KAAKuG,OAASA,EAEdvG,KAAKiO,OAAQ,EACbjO,KAAKqS,WAAY,EAEjBrS,KAAK0W,SAAU,EAIhB,OAAQ/K,EAAU0J,EAAaC,GAE9B,MAAMqB,EAAUhL,EAASiL,aACnBzT,EAAQwI,EAASxI,MAcvB,IAAI0T,EAAYC,EAVhB3T,EAAM0K,QAAQwB,MAAMtB,SAAS,GAC7B5K,EAAM0K,QAAQC,MAAMC,SAAS,GAI7B5K,EAAM0K,QAAQwB,MAAM0H,WAAW,GAC/B5T,EAAM0K,QAAQC,MAAMiJ,WAAW,GAM1B/W,KAAK0W,SAETG,EAAa,EACbC,EAAa,IAIbD,EAAa,EACbC,EAAa,GAId3T,EAAM0K,QAAQgI,QAAQC,SAAS,GAC/B3S,EAAM0K,QAAQgI,QAAQmB,MAAOL,EAAQM,QAASN,EAAQM,QAASN,EAAQM,SACvE9T,EAAM0K,QAAQgI,QAAQqB,QAASP,EAAQQ,OAAQN,EAAY,YAC3D1T,EAAM0K,QAAQgI,QAAQuB,SAAUN,GAChC3T,EAAM0K,QAAQgI,QAAQkB,WAAW,GAIjCpL,EAASiC,gBAAiB0H,GACrBtV,KAAKiO,OAAQtC,EAASsC,QAC3BtC,EAASrH,OAAQtE,KAAK4L,MAAO5L,KAAKuG,QAElCoF,EAASiC,gBAAiByH,GACrBrV,KAAKiO,OAAQtC,EAASsC,QAC3BtC,EAASrH,OAAQtE,KAAK4L,MAAO5L,KAAKuG,QAIlCpD,EAAM0K,QAAQwB,MAAM0H,WAAW,GAC/B5T,EAAM0K,QAAQC,MAAMiJ,WAAW,GAI/B5T,EAAM0K,QAAQgI,QAAQkB,WAAW,GACjC5T,EAAM0K,QAAQgI,QAAQqB,QAASP,EAAQU,MAAO,EAAG,YACjDlU,EAAM0K,QAAQgI,QAAQmB,MAAOL,EAAQW,KAAMX,EAAQW,KAAMX,EAAQW,MACjEnU,EAAM0K,QAAQgI,QAAQkB,WAAW,IAMnC,MAAM,WAAsB3E,EAE3B,cAEC/I,QAEArJ,KAAKqS,WAAY,EAIlB,OAAQ1G,GAEPA,EAASxI,MAAM0K,QAAQgI,QAAQkB,WAAW,GAC1CpL,EAASxI,MAAM0K,QAAQgI,QAAQC,SAAS,IC9E1C,MAAM,GAEL,YAAanK,EAAUR,GAItB,GAFAnL,KAAK2L,SAAWA,OAEMhJ,IAAjBwI,EAA6B,CAEjC,MAAMJ,EAAa,CAClBC,UAAW,OACXC,UAAW,OACXC,OAAQ,SAGHqM,EAAO5L,EAAS6L,QAAS,IAAI,SACnCxX,KAAKyX,YAAc9L,EAAS+L,gBAC5B1X,KAAK2X,OAASJ,EAAKpC,MACnBnV,KAAK4X,QAAUL,EAAKjS,OAEpB6F,EAAe,IAAI,QAAmBnL,KAAK2X,OAAS3X,KAAKyX,YAAazX,KAAK4X,QAAU5X,KAAKyX,YAAa1M,GACvGI,EAAa1E,QAAQmN,KAAO,0BAI5B5T,KAAKyX,YAAc,EACnBzX,KAAK2X,OAASxM,EAAagK,MAC3BnV,KAAK4X,QAAUzM,EAAa7F,OAI7BtF,KAAK6X,cAAgB1M,EACrBnL,KAAK8X,cAAgB3M,EAAaK,QAClCxL,KAAK8X,cAAcrR,QAAQmN,KAAO,qBAElC5T,KAAKqV,YAAcrV,KAAK6X,cACxB7X,KAAKsV,WAAatV,KAAK8X,cAEvB9X,KAAKsS,gBAAiB,EAEtBtS,KAAK+X,OAAS,QAIMpV,IAAfkQ,IAEJN,QAAQC,MAAO,kDAII7P,IAAf,IAEJ4P,QAAQC,MAAO,6CAIhBxS,KAAKgY,SAAW,IAAI,GAAYnF,IAEhC7S,KAAKiY,MAAQ,IAAI,OAIlB,cAEC,MAAMpS,EAAM7F,KAAKsV,WACjBtV,KAAKsV,WAAatV,KAAKqV,YACvBrV,KAAKqV,YAAcxP,EAIpB,QAASqS,GAERlY,KAAK+X,OAAO/R,KAAMkS,GAClBA,EAAK9C,QAASpV,KAAK2X,OAAS3X,KAAKyX,YAAazX,KAAK4X,QAAU5X,KAAKyX,aAInE,WAAYS,EAAMtU,GAEjB5D,KAAK+X,OAAOI,OAAQvU,EAAO,EAAGsU,GAC9BA,EAAK9C,QAASpV,KAAK2X,OAAS3X,KAAKyX,YAAazX,KAAK4X,QAAU5X,KAAKyX,aAInE,WAAYS,GAEX,MAAMtU,EAAQ5D,KAAK+X,OAAO9V,QAASiW,IAElB,IAAZtU,GAEJ5D,KAAK+X,OAAOI,OAAQvU,EAAO,GAM7B,kBAAmBwU,GAElB,IAAM,IAAIpV,EAAIoV,EAAY,EAAGpV,EAAIhD,KAAK+X,OAAOlU,OAAQb,IAEpD,GAAKhD,KAAK+X,OAAQ/U,GAAIuK,QAErB,OAAO,EAMT,OAAO,EAIR,OAAQgI,QAIY5S,IAAd4S,IAEJA,EAAYvV,KAAKiY,MAAMI,YAIxB,MAAMlL,EAAsBnN,KAAK2L,SAASyB,kBAE1C,IAAIoI,GAAa,EAEjB,IAAM,IAAIxS,EAAI,EAAGsV,EAAKtY,KAAK+X,OAAOlU,OAAQb,EAAIsV,EAAItV,IAAO,CAExD,MAAMkV,EAAOlY,KAAK+X,OAAQ/U,GAE1B,IAAsB,IAAjBkV,EAAK3K,QAAV,CAKA,GAHA2K,EAAK5F,eAAmBtS,KAAKsS,gBAAkBtS,KAAKuY,kBAAmBvV,GACvEkV,EAAK5T,OAAQtE,KAAK2L,SAAU3L,KAAKqV,YAAarV,KAAKsV,WAAYC,EAAWC,GAErE0C,EAAK7F,UAAY,CAErB,GAAKmD,EAAa,CAEjB,MAAMmB,EAAU3W,KAAK2L,SAASiL,aACxBf,EAAU7V,KAAK2L,SAASxI,MAAM0K,QAAQgI,QAG5CA,EAAQqB,QAASP,EAAQ6B,SAAU,EAAG,YAEtCxY,KAAKgY,SAAS1T,OAAQtE,KAAK2L,SAAU3L,KAAKqV,YAAarV,KAAKsV,WAAYC,GAGxEM,EAAQqB,QAASP,EAAQU,MAAO,EAAG,YAIpCrX,KAAKyY,mBAIY9V,IAAb,KAECuV,aAAgB,GAEpB1C,GAAa,EAEF0C,aAAgB,KAE3B1C,GAAa,KAQhBxV,KAAK2L,SAASiC,gBAAiBT,GAIhC,MAAOhC,GAEN,QAAsBxI,IAAjBwI,EAA6B,CAEjC,MAAMoM,EAAOvX,KAAK2L,SAAS6L,QAAS,IAAI,SACxCxX,KAAKyX,YAAczX,KAAK2L,SAAS+L,gBACjC1X,KAAK2X,OAASJ,EAAKpC,MACnBnV,KAAK4X,QAAUL,EAAKjS,OAEpB6F,EAAenL,KAAK6X,cAAcrM,QAClCL,EAAaiK,QAASpV,KAAK2X,OAAS3X,KAAKyX,YAAazX,KAAK4X,QAAU5X,KAAKyX,aAI3EzX,KAAK6X,cAAczP,UACnBpI,KAAK8X,cAAc1P,UACnBpI,KAAK6X,cAAgB1M,EACrBnL,KAAK8X,cAAgB3M,EAAaK,QAElCxL,KAAKqV,YAAcrV,KAAK6X,cACxB7X,KAAKsV,WAAatV,KAAK8X,cAIxB,QAAS3C,EAAO7P,GAEftF,KAAK2X,OAASxC,EACdnV,KAAK4X,QAAUtS,EAEf,MAAMoT,EAAiB1Y,KAAK2X,OAAS3X,KAAKyX,YACpCkB,EAAkB3Y,KAAK4X,QAAU5X,KAAKyX,YAE5CzX,KAAK6X,cAAczC,QAASsD,EAAgBC,GAC5C3Y,KAAK8X,cAAc1C,QAASsD,EAAgBC,GAE5C,IAAM,IAAI3V,EAAI,EAAGA,EAAIhD,KAAK+X,OAAOlU,OAAQb,IAExChD,KAAK+X,OAAQ/U,GAAIoS,QAASsD,EAAgBC,GAM5C,cAAeC,GAEd5Y,KAAKyX,YAAcmB,EAEnB5Y,KAAKoV,QAASpV,KAAK2X,OAAQ3X,KAAK4X,UAqClB,IAAI,SAAsB,EAAG,EAAG,GAAK,EAAG,EAAG,GAA3D,MAIM,GAAY,IAAI,OACtB,GAAUjF,aAAc,WAAY,IAAI,OAAwB,EAAI,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,GAAK,EAAG,GAAK,IACvG,GAAUA,aAAc,KAAM,IAAI,OAAwB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,ICpRhF,MAAM,WAAmBP,EAExB,YAAaxG,EAAOrF,EAAQsS,EAAkB1F,EAAY2F,GAEzDzP,QAEArJ,KAAK4L,MAAQA,EACb5L,KAAKuG,OAASA,EAEdvG,KAAK6Y,iBAAmBA,EAExB7Y,KAAKmT,WAAaA,EAClBnT,KAAK8Y,gBAA8BnW,IAAfmW,EAA6BA,EAAa,EAE9D9Y,KAAKiO,OAAQ,EACbjO,KAAK+Y,YAAa,EAClB/Y,KAAKqS,WAAY,EACjBrS,KAAK+U,eAAiB,IAAI,OAI3B,OAAQpJ,EAAU0J,EAAaC,GAE9B,MAAMK,EAAehK,EAASqC,UAG9B,IAAIgH,EAAegE,EAFnBrN,EAASqC,WAAY,OAIUrL,IAA1B3C,KAAK6Y,mBAETG,EAAsBhZ,KAAK4L,MAAMiN,iBAEjC7Y,KAAK4L,MAAMiN,iBAAmB7Y,KAAK6Y,kBAI/B7Y,KAAKmT,aAETxH,EAAS8J,cAAezV,KAAK+U,gBAC7BC,EAAgBrJ,EAAS+J,gBAEzB/J,EAASiK,cAAe5V,KAAKmT,WAAYnT,KAAK8Y,aAI1C9Y,KAAK+Y,YAETpN,EAASoN,aAIVpN,EAASiC,gBAAiB5N,KAAKsS,eAAiB,KAAOgD,GAGlDtV,KAAKiO,OAAQtC,EAASsC,MAAOtC,EAAS4K,eAAgB5K,EAAS6K,eAAgB7K,EAAS8K,kBAC7F9K,EAASrH,OAAQtE,KAAK4L,MAAO5L,KAAKuG,QAE7BvG,KAAKmT,YAETxH,EAASiK,cAAe5V,KAAK+U,eAAgBC,QAIfrS,IAA1B3C,KAAK6Y,mBAET7Y,KAAK4L,MAAMiN,iBAAmBG,GAI/BrN,EAASqC,UAAY2H,GClEvB,IAAIsD,GACFC,GACAC,GACAC,GAEIC,GAAc,CAClBC,SAAU,EACVC,cAAe,IACfC,eAAgB,GAChBC,YAAa,GACbC,MAAO,IAGHC,GAAc,KAEd,GAAW,SAACC,EAA8BC,GAC9C,IAAMC,EAAc,IAAI,GAAWD,EAAUjO,MAAOiO,EAAUtT,QAE9D2S,GAAY,IAAI,GACd,IAAI,QAAcU,EAAaG,YAAaH,EAAaI,cACzD,IACA,GACA,KAEFd,GAAU5G,gBAAiB,EAC3B4G,GAAUhG,UAAYmG,GAAYG,eAClCN,GAAUjG,SAAWoG,GAAYE,cACjCL,GAAU5Q,OAAS+Q,GAAYI,YAE/BN,GAAW,IAAI,GAAeU,EAAUlO,UACxCwN,GAAS/D,QAAQwE,EAAaG,YAAaH,EAAaI,cACxDb,GAASc,QAAQH,GAGjBV,GAAa,IAAI,OACjBA,GAAWvR,IAAI8R,IAEf,IAAMrS,EAAe,sKAQfC,EAAiB,yPASjB2S,EAAY,IAAI,GACpB,IAAI,QAAqB,CACvBtT,SAAU,CACRuT,YAAa,CAAErT,MAAO,MACtBsT,aAAc,CAAEtT,MAAOqS,GAASrB,cAAcrR,UAGhDa,eACAC,iBACA2M,QAAS,KAEX,eAEFgG,EAAU7H,WAAY,EAEtB4G,GAAgB,IAAI,GAAeY,EAAUlO,UAC7CsN,GAAcgB,QAAQH,GACtBb,GAAcgB,QAAQC,IAKH,IAAI,OAAwB,CAAE7K,MAAO,UClF1D,IAoBI,GACA,GCeAnM,GACFmX,GACAC,GACA,GACAC,GACAC,GDzCI,GAAK,4IAQL,GAAK,iQAeL,GAAW,SAAC/Z,GAChB,IAAMga,EAAW,EAAQ,QACnBC,GAAqB,IAAI,SAAsBhU,KAAK+T,GAC1DC,EAAmBlS,MAAQ,QAC3BkS,EAAmBjS,MAAQ,QAE3B,IADA,IAAMiG,EAAa,IAAI,OACd1L,EAAI,EAAGA,EAAIvC,EAAOoD,OAAQb,GAAK,EAAG,CACzC,IAAM2L,EAAQ,IAAI,QAClBA,EAAMC,OAAOnO,EAAOuC,GAAG8C,SAAS,GAAIrF,EAAOuC,GAAG8C,SAAS,IACvD,IAAK,IAAIK,EAAI,EAAGA,EAAI1F,EAAOuC,GAAG8C,SAASjC,OAAQsC,GAAK,EAClDwI,EAAME,OAAOpO,EAAOuC,GAAG8C,SAASK,GAAI1F,EAAOuC,GAAG8C,SAASK,EAAI,IAG7D,IAAMX,EAAW,IAAI,QAAoBmJ,GACnChI,EAAW,IAAI,QAAqB,CACxCC,SAAU,CACR+T,QAAS,CAAE7T,MAAO,IAClBE,kBAAmB,CAAEF,MAAO4T,GAC5BE,QAAS,CAAE9T,MAAO,IAAI,OAAY,EAAG,EAAG,IACxC+T,QAAS,CAAE/T,MAAO,KAEpBQ,aAAc,GACdC,eAAgB,KAGZ,EAAY,IAAI,OAAW/B,EAAUmB,GAC3C+H,EAAWtC,IAAI,GAQjB,OALA,GAAYsC,EACZ6D,QAAQuI,IAAI,IAEZ,KAEO,IAGH,GAAc,WAClB,IAAIH,EAAU,EACVE,EAAU,EACR9S,EAAe,WAEnB,IAAK,IAAI/E,EAAI,EAAGA,EAAI,GAAUuN,SAAS1M,OAAQb,IACzC2X,EAAU,IAAGA,EAAU,GAC3BA,GAAW,KACPE,EAAU,IAAGA,EAAU,GAE3B,GAAUtK,SAASvN,GAAG2D,SAASC,SAAS+T,QAAQ7T,MAAQ6T,EAExD,GAAUpK,SAASvN,GAAG2D,SAASC,SAASiU,QAAQ/T,MAAQ6T,GAGtD3S,EAAY,SAAZA,IACJ,GAAqBC,sBAAsBD,GAC3CD,KAEFC,KAGI+S,GAAe,WACnB,GAAI,GAAW,CACT,IAAoB5S,qBAAqB,IAC7C,MAAO,GAAUoI,SAAS1M,OAAS,EAChC,GAAU0M,SAAS,GAAkB/K,SAAS4C,UAE/C,GAAUmI,SAAS,GAAG5J,SAASyB,UAC/B,GAAUoI,OAAO,GAAUD,SAAS,IAEtC,GAAU/K,SAAS4C,UAEnB,GAAUzB,SAASyB,YClDjB,GAAO,SAACwR,GACZ,GAAY,IAAI,OAAUA,GAC1B,GAAUrT,OAAOT,SAAS+B,IAAI,GAAI,GAAI,IACtC,GAAUmT,aAAaC,YAAc,GACrC,IAAMC,EAAS,EAAQ,QACvB,GAAUtP,MAAMuP,YAAa,IAAI,SAAsBzU,KAAKwU,GAE5DhY,GAAQ,IAAI,QACZ,GAAU0I,MAAMQ,IAAIlJ,IAEpBmX,GAAe,IAAI,OAAmB,SACtC,GAAUzO,MAAMQ,IAAIiO,IACpBC,GAAa,IAAI,QAAiB,SAAU,GAC5C,GAAU1O,MAAMQ,IAAIkO,IAEpB,GAASV,EAAc,IAGvB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAKI,GAAU,SAAV1H,IACJsI,GAAevS,sBAAsBiK,GACrCiH,GAAS7U,SAKTgW,GAAWxU,SAASuG,KAAK,GAAU9F,OAAOT,UAC1C,GAAUkV,aAAa7I,UA+BnB,GAAU,WACd,IAAM9R,EAAS,EAAQ,QAEjBI,EAAS2E,EAAoB/E,GAE7BsH,EAAO,EAAYlH,GACzB,GAAUmL,MAAMQ,IAAIzE,IAEhB,GAAgB,WACpB,IAAMtH,EAAS,EAAQ,QACjBI,EAAS2E,EAAoB/E,EAAQ,IACrC+a,EAAK,EAAkB3a,GAC7B,GAAUmL,MAAMQ,IAAIgP,IAGhB,GAAY,WAChB,IAAM/a,EAAS,EAAQ,QACjBI,EAAS2E,EAAoB/E,GAE7BsH,EAAO,EAAUlH,GACvB,GAAUmL,MAAMQ,IAAIzE,IAGhB,GAAe,WACnB,IAAMtH,EAAS,EAAQ,QACjBI,EAAS2E,EAAoB/E,GAC7BsH,EAAO,EAAalH,GAC1B,GAAUmL,MAAMQ,IAAIzE,IAGhB,GAAgB,WACpB,IAAMA,EAAO,EAAc,GAAUpB,QAErC,GAAUqF,MAAMQ,IAAIzE,IAGhB,GAAoB,WAIxB,IAAMA,EAAO,EAAe,CAAE1B,EAAG,EAAGC,EAAG,EAAG4C,EAAG,GAAK,GAClD,GAAU8C,MAAMQ,IAAIzE,IAGhB,GAAc,WAClB,IAAM0T,EAAO,CACX,CAAC,EAAG,GACJ,CAAC,GAAI,IACL,EAAE,IAAK,KAETd,GAAkB,IAAI,EAAgBc,GACtCd,GAAgBe,YAChB,GAAU1P,MAAMQ,IAAImO,GAAgB9Z,QAEpC8Z,GAAgBpK,WAAW,CAAExG,KAAM,GAAO,CAAEA,KAAM,GAAO,MAGrD,GAAW,WACf,IAAMtJ,EAAS,EAAQ,QACjBI,EAAS2E,EAAoB/E,EAAQ,IACrCkb,EAAQ,GAAS9a,GACvB,GAAUmL,MAAMQ,IAAImP,IAGhB,GAAU,WAAK,MACnBpT,qBAAqBqS,IACrBF,GAAWlS,UACXiS,GAAajS,UACb8Q,GAAU9Q,UACVkI,IACApI,IACAiB,IACA4R,KACe,QAAf,EAAAR,UAAA,SAAiB9J,UAEjBvN,GAAMqN,SAASiL,SAAQ,SAACC,GACtBA,EAAKlL,SAASiL,SAAQ,SAACE,GACrBA,EAAQlW,SAAS4C,UACjBsT,EAAQ/U,SAASyB,gBAGrB,GAAUqI,W,aCrLgB,kBAAiB,CAC3CkL,MAD2C,SACrCC,GAER,IAAMC,EAAgB,iBAEhBC,EAA4B,eAAO,wBAmBzC,OAjBA,gBAAU,WACR,GAAKD,EAAc/U,OACnBgV,EAAqB,IACrB,KACA,QAAQC,UAAUC,WAAY,EAC9B,GAAUC,iBAGZ,gBAAgB,WACd,QAQK,SAAC1X,EAAUC,GAChB,OAAQ,iBAAc,eAAoB,MAAO,CAC/CH,MAAO,iBACP6X,QAAS,gBACTC,IAAKN,GACJ,KAAM,S,oCCrCX,MAAMO,GAA2B,KAAgB,GAAQ,CAAC,CAAC,YAAY,qBAExD,UCLA,IACbxI,KAAM,OACNyI,WAAY,CAAEC,KAAA,IACdX,MAHa,WAIX,IAAMY,EAAuB,eAAO,mBACpCA,EAAgB,CACdC,cAAc,EACdC,eAAe,EACfC,aAAa,EACbC,gBAAgB,EAChBC,gBAAgB,EAChBC,qBAAqB,EACrBC,uBAAuB,EACvBC,kBAAkB,EAClBC,mBAAmB,M,UCVzB,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS1Y,GAAQ,CAAC,YAAY,qBAE1E,iB,865zDCTf5D,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,01I,qBCAjB,IAAIC,EAAQ,EAAQ,QAChBtB,EAAS,EAAQ,QAGjBuB,EAAUvB,EAAOwB,OAErBJ,EAAOC,QAAUC,GAAM,WACrB,IAAIf,EAAKgB,EAAQ,IAAK,KACtB,QAAShB,EAAGqE,QAAUrE,EAAGC,KAAK,OAAsB,MAAbD,EAAGyD,W,qBCR5C5C,EAAOC,QAAU,IAA0B","file":"js/chunk-689033a7.cbbb6b7f.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/green.71d1067f.jpg\";","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./city.vue?vue&type=style&index=0&id=03a7aa72&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/buildingcolor.8d618850.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=50acadbf&lang=less&scoped=true\"","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","module.exports = __webpack_public_path__ + \"img/guangzhaojianbianbai.19d3ffe3.png\";","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","module.exports = __webpack_public_path__ + \"img/water.9ba47ff7.jpg\";","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-03a7aa72\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"city-main\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_City = _resolveComponent(\"City\", true)!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_City)\n  ]))\n}","import * as THREE from \"three\";\r\n\r\nconst jianbianPng = require(\"@/assets/city/guangzhaojianbian.png\");\r\n\r\nconst vs = `\r\n  uniform vec3 viewVector;\r\n  varying vec2 vUv;\r\n  uniform float c;\r\n  uniform float p;\r\n  varying float intensity;\r\n  void main()\r\n  {\r\n    vUv = uv;\r\n    vec3 vNormal = normalize(normalMatrix * normal);\r\n    vec3 vNormel = normalize(normalMatrix * viewVector);\r\n    intensity = pow(c - dot(vNormal, vNormel), p);      // \r\n    \r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  }\r\n`;\r\n\r\nconst fs = `\r\n  #ifdef GL_ES\r\n  precision mediump float;\r\n  #endif\r\n  \r\n  uniform vec2 u_resolution;\r\n  uniform float u_time;\r\n  uniform float offset;\r\n  uniform vec3 glowColor;\r\n  uniform sampler2D backgroundTexture;\r\n  \r\n  varying float intensity;\r\n  varying vec2 vUv;\r\n  \r\n  vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\r\n  vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\r\n  vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\r\n  \r\n  float snoise(vec2 v) {\r\n    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\r\n                        0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\r\n                        -0.577350269189626,  // -1.0 + 2.0 * C.x\r\n                        0.024390243902439); // 1.0 / 41.0\r\n    vec2 i  = floor(v + dot(v, C.yy) );\r\n    vec2 x0 = v -   i + dot(i, C.xx);\r\n    vec2 i1;\r\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\r\n    vec4 x12 = x0.xyxy + C.xxzz;\r\n    x12.xy -= i1;\r\n    i = mod289(i); // Avoid truncation effects in permutation\r\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\r\n        + i.x + vec3(0.0, i1.x, 1.0 ));\r\n  \r\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\r\n    m = m*m ;\r\n    m = m*m ;\r\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\r\n    vec3 h = abs(x) - 0.5;\r\n    vec3 ox = floor(x + 0.5);\r\n    vec3 a0 = x - ox;\r\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\r\n    vec3 g;\r\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\r\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\r\n    return 2500.0 * dot(m, g);  // \r\n  }\r\n  \r\n  void main() {\r\n    //  vUv  gl_FragCoord, \r\n    // vec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n    vec2 st = vUv * 1.0;\r\n    st.x *= u_resolution.x / u_resolution.y;\r\n    vec3 color = vec3(0.0);\r\n    vec2 pos = vec2(st*3.);\r\n  \r\n    float DF = 0.0;\r\n  \r\n    // Add a random position\r\n    float a = 0.0;\r\n    vec2 vel = vec2(u_time*.1);\r\n    DF += snoise(pos+vel)*.25+.25;\r\n  \r\n    // Add a random position\r\n    a = snoise(pos*vec2(cos(u_time*0.15),sin(u_time*0.1))*0.1)*3.1415;\r\n    vel = vec2(cos(a),sin(a));\r\n    DF += snoise(pos+vel)*.25+.25;\r\n  \r\n    color = vec3( smoothstep(.7,.75,fract(DF)) );\r\n  \r\n  \t// offset0 - 1\r\n  \t// alpha\r\n    vec4 background = texture2D(backgroundTexture, vec2(vUv.x, vUv.y + offset));\r\n    background.a = clamp(background.a, 0.3, 0.9); // 0.30.9\r\n    // float opacity = max(intensity, color.x) * background.a;\r\n    float opacity = max(0.5, color.x) * background.a;\r\n    gl_FragColor = vec4(glowColor, opacity);\r\n  }\r\n`;\r\n\r\n// let mesh: THREE.Mesh;\r\nlet requestAnimationId: number;\r\nlet halfSphereMesh: THREE.Mesh;\r\n\r\nconst getHalfSphere = (camera: THREE.PerspectiveCamera) => {\r\n  const geometry = new THREE.SphereGeometry(5, 36, 36, 0, Math.PI * 2, 0, (Math.PI / 180) * 90);\r\n\r\n  const texture = new THREE.TextureLoader().load(jianbianPng);\r\n  // shader\r\n  const material = new THREE.ShaderMaterial({\r\n    uniforms: {\r\n      c: { value: 1.5 }, // \r\n      p: { value: 4 }, // \r\n      backgroundTexture: {\r\n        // \r\n        value: texture,\r\n      },\r\n      offset: { value: -0.46 }, // \r\n      u_resolution: {\r\n        // \r\n        value: new THREE.Vector2(500, 500),\r\n      },\r\n      u_time: { value: 0.1 }, // \r\n      glowColor: { value: new THREE.Color(0xff0000) }, // \r\n      viewVector: {\r\n        // \r\n        value: camera.position,\r\n      },\r\n    },\r\n    vertexShader: vs,\r\n    fragmentShader: fs,\r\n    side: THREE.FrontSide,\r\n    depthWrite: false,\r\n    transparent: true,\r\n  });\r\n\r\n  const mesh = new THREE.Mesh(geometry, material);\r\n  mesh.rotateX(Math.PI / 2);\r\n  mesh.position.set(7, 7, 0);\r\n\r\n  updateHalfSphere(mesh);\r\n\r\n  halfSphereMesh = mesh;\r\n\r\n  return mesh;\r\n};\r\n\r\nconst updateHalfSphere = (mesh: THREE.Mesh) => {\r\n  let offset = 0;\r\n  const updateAction = () => {\r\n    if (offset >= 1.0) offset = -0.46;\r\n    offset += 0.01;\r\n    // @ts-ignore\r\n    mesh.material.uniforms.offset.value = offset;\r\n  };\r\n  const animation = () => {\r\n    requestAnimationId = requestAnimationFrame(animation);\r\n    updateAction();\r\n  };\r\n  animation();\r\n};\r\n\r\nconst halfSphereDestroy = () => {\r\n  if(requestAnimationId) cancelAnimationFrame(requestAnimationId);\r\n  if(halfSphereMesh) {\r\n    halfSphereMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    halfSphereMesh.material.dispose();\r\n  }\r\n};\r\n\r\nexport { getHalfSphere, halfSphereDestroy };\r\n","import * as THREE from \"three\";\r\n\r\nconst vs = `\r\n  varying vec3 vPosition;\r\n  void main() {\r\n    vPosition = position;\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  }\r\n`;\r\n\r\nconst fs = `\r\nvarying vec3 vPosition;\r\n\t\tuniform vec3 u_color;\r\n\t\tuniform float u_r;\r\n\t\tuniform float u_ring;\r\n\r\n\t\tvoid main(){\r\n\t\t\tfloat pct=distance(vec2(vPosition.x,vPosition.y),vec2(0.0));\r\n\t\t\tif(pct>u_r || pct<(u_r-u_ring)){\r\n\t\t\t\tgl_FragColor = vec4(0.0,1.0,0.0,0);\r\n\t\t\t}else{\r\n\t\t\t\t// float dis=(pct-(u_r-u_ring))/(u_r-u_ring);\r\n\t\t\t\tgl_FragColor = vec4(u_color,1.0);\r\n\t\t\t}\r\n\t\t}\r\n`;\r\n\r\nlet requestAnimationId: number;\r\nlet distenceBufferMesh: THREE.Mesh;\r\nlet requestAnimationId2: number;\r\nlet cylinderMesh: THREE.Mesh;\r\nlet cylinderRadius: number = 0;\r\n\r\nconst getDistanceBuffer = (position: any, radius: number) => {\r\n  const geometry = new THREE.CircleGeometry(radius, 120);\r\n  const material = new THREE.ShaderMaterial({\r\n    uniforms: {\r\n      u_color: { value: new THREE.Color(0x00ff00) },\r\n      u_r: { value: 0.1 },\r\n      u_ring: { value: 0.03 },\r\n    },\r\n    transparent: true,\r\n    vertexShader: vs,\r\n    fragmentShader: fs,\r\n  });\r\n\r\n  const mesh = new THREE.Mesh(geometry, material);\r\n  mesh.position.set(position.x, position.y, position.z);\r\n\r\n  updateHalfSphere(mesh, radius);\r\n\r\n  distenceBufferMesh = mesh;\r\n\r\n  return mesh;\r\n};\r\n\r\nconst updateHalfSphere = (mesh: THREE.Mesh, radius: number) => {\r\n  let offset = 0;\r\n  const updateAction = () => {\r\n    if (offset >= radius) offset = 0;\r\n    offset += 0.03;\r\n    // @ts-ignore\r\n    mesh.material.uniforms.u_r.value = offset;\r\n  };\r\n  const animation = () => {\r\n    requestAnimationId = requestAnimationFrame(animation);\r\n    updateAction();\r\n  };\r\n  animation();\r\n};\r\n\r\nconst cylinderBuffer = (position: any, radius: number) => {\r\n  const colorPng = require(\"@/assets/city/buildingcolor.png\");\r\n  const texture = new THREE.TextureLoader().load(colorPng);\r\n  texture.wrapS = THREE.RepeatWrapping;\r\n  texture.wrapT = THREE.RepeatWrapping;\r\n  texture.repeat.set(1, 1);\r\n  // texture.needsUpdate = true;\r\n  const geometry = new THREE.CylinderBufferGeometry(radius, radius, 1, 64);\r\n  const materials = [\r\n    new THREE.MeshBasicMaterial({\r\n      map: texture,\r\n      side: THREE.DoubleSide,\r\n      transparent: true,\r\n    }),\r\n    new THREE.MeshBasicMaterial({\r\n      transparent: true,\r\n      opacity: 0,\r\n      side: THREE.DoubleSide,\r\n    }),\r\n    new THREE.MeshBasicMaterial({\r\n      transparent: true,\r\n      opacity: 0,\r\n      side: THREE.DoubleSide,\r\n    }),\r\n  ];\r\n\r\n  cylinderMesh = new THREE.Mesh(geometry, materials);\r\n  cylinderMesh.position.set(position.x, position.y, position.z);\r\n  cylinderMesh.applyMatrix4(\r\n    new THREE.Matrix4().makeTranslation(0, 0, 0.5)\r\n  );\r\n  cylinderMesh.rotateX(Math.PI * 0.5);\r\n\r\n  updateCylinder(radius);\r\n\r\n  return cylinderMesh;\r\n};\r\n\r\nconst updateCylinder = (radius: number) => {\r\n  const updateAction = () => {\r\n    cylinderRadius += 0.01;\r\n    if (cylinderRadius > 1) {\r\n      cylinderRadius = 0;\r\n    }\r\n    if (cylinderMesh) {\r\n      cylinderMesh.scale.set(cylinderRadius, 1, cylinderRadius);\r\n    }\r\n  };\r\n  const animation = () => {\r\n    requestAnimationId2 = requestAnimationFrame(animation);\r\n    updateAction();\r\n  };\r\n  animation();\r\n};\r\n\r\nconst distenceBufferDestroy = () => {\r\n  if (requestAnimationId) cancelAnimationFrame(requestAnimationId);\r\n  if (distenceBufferMesh) {\r\n    distenceBufferMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    distenceBufferMesh.material.dispose();\r\n  }\r\n\r\n  if (requestAnimationId2) cancelAnimationFrame(requestAnimationId2);\r\n  if (cylinderMesh) {\r\n    cylinderMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    cylinderMesh.material[0].dispose();\r\n    // @ts-ignore\r\n    cylinderMesh.material[1].dispose();\r\n    // @ts-ignore\r\n    cylinderMesh.material[2].dispose();\r\n  }\r\n};\r\n\r\nexport { getDistanceBuffer, distenceBufferDestroy, cylinderBuffer };\r\n","import { Vector2 } from \"three\";\r\nimport {lonlatToMocart} from \"@/utils/coord\";\r\n\r\n// const center = [13170315, 4204472.625];\r\nconst center = [12956401.5, 4853758];\r\n\r\n//  featurecollection\r\nconst getPositionFromJson = (geoJson: any, height: number = 0) => {\r\n  const result = [];\r\n  for (let i = 0; i < geoJson.features.length; i++) {\r\n    const geometry = geoJson.features[i].geometry;\r\n    const type = geometry.type;\r\n    const tmpHeight = height === 0 ? 0 : Math.random() * height;\r\n\r\n    const tmp = {\r\n      type,\r\n      height: tmpHeight,\r\n      position: [],\r\n    };\r\n\r\n    switch (type) {\r\n      case \"Point\":\r\n        tmp.position = getPointJson(geometry.coordinates, height);\r\n        result.push(tmp);\r\n        break;\r\n      case \"LineString\":\r\n        tmp.position = getLineJson(geometry.coordinates, height);\r\n        result.push(tmp);\r\n        break;\r\n      case \"Polygon\":\r\n        tmp.position = getPolygonJson(geometry.coordinates, height);\r\n        result.push(tmp);\r\n        break;\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst getPointJson: any = (input: any, height:number) => {\r\n  const result = [];\r\n  // result.push(new Vector2(input[0]-center[0], input[1]-center[1]));\r\n  result.push(new Vector2(input[0], input[1]));\r\n  return result;\r\n};\r\n\r\nconst getLineJson: any = (input: any, height:number) => {\r\n  const result = [];\r\n  for (let i = 0; i < input.length; i++) {\r\n    // result.push((input[i][0]-center[0])/1000, (input[i][1]-center[1])/1000);\r\n    \r\n    const {x, y} = lonlatToMocart(input[i][0], input[i][1]);\r\n    result.push((x-center[0])/100, (y-center[1])/100);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst getPolygonJson: any = (input: any, height:number) => {\r\n  const result = [];\r\n  for (let i = 0; i < input.length; i++) {\r\n    const tmp = [];\r\n    for (let j = 0; j < input[i].length; j++) {\r\n      // tmp.push((input[i][j][0]-center[0])/1000, (input[i][j][1]-center[1])/1000);\r\n      \r\n      const {x, y} = lonlatToMocart(input[i][j][0], input[i][j][1]);\r\n      tmp.push((x-center[0])/100, (y-center[1])/100);\r\n    }\r\n    result.push(...tmp);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport { getPositionFromJson };\r\n","import {\n\tColor,\n\tFrontSide,\n\tLinearFilter,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tPerspectiveCamera,\n\tPlane,\n\tRGBFormat,\n\tShaderMaterial,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector3,\n\tVector4,\n\tWebGLRenderTarget\n} from 'three';\n\n/**\n * Work based on :\n * https://github.com/Slayvin: Flat mirror for three.js\n * https://home.adelphi.edu/~stemkoski/ : An implementation of water shader based on the flat mirror\n * http://29a.ch/ && http://29a.ch/slides/2012/webglwater/ : Water shader explanations in WebGL\n */\n\nclass Water extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tconst scope = this;\n\n\t\tconst textureWidth = options.textureWidth !== undefined ? options.textureWidth : 512;\n\t\tconst textureHeight = options.textureHeight !== undefined ? options.textureHeight : 512;\n\n\t\tconst clipBias = options.clipBias !== undefined ? options.clipBias : 0.0;\n\t\tconst alpha = options.alpha !== undefined ? options.alpha : 1.0;\n\t\tconst time = options.time !== undefined ? options.time : 0.0;\n\t\tconst normalSampler = options.waterNormals !== undefined ? options.waterNormals : null;\n\t\tconst sunDirection = options.sunDirection !== undefined ? options.sunDirection : new Vector3( 0.70707, 0.70707, 0.0 );\n\t\tconst sunColor = new Color( options.sunColor !== undefined ? options.sunColor : 0xffffff );\n\t\tconst waterColor = new Color( options.waterColor !== undefined ? options.waterColor : 0x7F7F7F );\n\t\tconst eye = options.eye !== undefined ? options.eye : new Vector3( 0, 0, 0 );\n\t\tconst distortionScale = options.distortionScale !== undefined ? options.distortionScale : 20.0;\n\t\tconst side = options.side !== undefined ? options.side : FrontSide;\n\t\tconst fog = options.fog !== undefined ? options.fog : false;\n\n\t\t//\n\n\t\tconst mirrorPlane = new Plane();\n\t\tconst normal = new Vector3();\n\t\tconst mirrorWorldPosition = new Vector3();\n\t\tconst cameraWorldPosition = new Vector3();\n\t\tconst rotationMatrix = new Matrix4();\n\t\tconst lookAtPosition = new Vector3( 0, 0, - 1 );\n\t\tconst clipPlane = new Vector4();\n\n\t\tconst view = new Vector3();\n\t\tconst target = new Vector3();\n\t\tconst q = new Vector4();\n\n\t\tconst textureMatrix = new Matrix4();\n\n\t\tconst mirrorCamera = new PerspectiveCamera();\n\n\t\tconst parameters = {\n\t\t\tminFilter: LinearFilter,\n\t\t\tmagFilter: LinearFilter,\n\t\t\tformat: RGBFormat\n\t\t};\n\n\t\tconst renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, parameters );\n\n\t\tif ( ! MathUtils.isPowerOfTwo( textureWidth ) || ! MathUtils.isPowerOfTwo( textureHeight ) ) {\n\n\t\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\t}\n\n\t\tconst mirrorShader = {\n\n\t\t\tuniforms: UniformsUtils.merge( [\n\t\t\t\tUniformsLib[ 'fog' ],\n\t\t\t\tUniformsLib[ 'lights' ],\n\t\t\t\t{\n\t\t\t\t\t'normalSampler': { value: null },\n\t\t\t\t\t'mirrorSampler': { value: null },\n\t\t\t\t\t'alpha': { value: 1.0 },\n\t\t\t\t\t'time': { value: 0.0 },\n\t\t\t\t\t'size': { value: 1.0 },\n\t\t\t\t\t'distortionScale': { value: 20.0 },\n\t\t\t\t\t'textureMatrix': { value: new Matrix4() },\n\t\t\t\t\t'sunColor': { value: new Color( 0x7F7F7F ) },\n\t\t\t\t\t'sunDirection': { value: new Vector3( 0.70707, 0.70707, 0 ) },\n\t\t\t\t\t'eye': { value: new Vector3() },\n\t\t\t\t\t'waterColor': { value: new Color( 0x555555 ) }\n\t\t\t\t}\n\t\t\t] ),\n\n\t\t\tvertexShader: /* glsl */`\n\t\t\t\tuniform mat4 textureMatrix;\n\t\t\t\tuniform float time;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <shadowmap_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\n\t\t\t\t\tworldPosition = mirrorCoord.xyzw;\n\t\t\t\t\tmirrorCoord = textureMatrix * mirrorCoord;\n\t\t\t\t\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\t#include <beginnormal_vertex>\n\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t#include <fog_vertex>\n\t\t\t\t#include <shadowmap_vertex>\n\t\t\t}`,\n\n\t\t\tfragmentShader: /* glsl */`\n\t\t\t\tuniform sampler2D mirrorSampler;\n\t\t\t\tuniform float alpha;\n\t\t\t\tuniform float time;\n\t\t\t\tuniform float size;\n\t\t\t\tuniform float distortionScale;\n\t\t\t\tuniform sampler2D normalSampler;\n\t\t\t\tuniform vec3 sunColor;\n\t\t\t\tuniform vec3 sunDirection;\n\t\t\t\tuniform vec3 eye;\n\t\t\t\tuniform vec3 waterColor;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\tvec4 getNoise( vec2 uv ) {\n\t\t\t\t\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n\t\t\t\t\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n\t\t\t\t\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n\t\t\t\t\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n\t\t\t\t\tvec4 noise = texture2D( normalSampler, uv0 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv1 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv2 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv3 );\n\t\t\t\t\treturn noise * 0.5 - 1.0;\n\t\t\t\t}\n\n\t\t\t\tvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n\t\t\t\t\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n\t\t\t\t\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n\t\t\t\t\tspecularColor += pow( direction, shiny ) * sunColor * spec;\n\t\t\t\t\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n\t\t\t\t}\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <packing>\n\t\t\t\t#include <bsdfs>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <lights_pars_begin>\n\t\t\t\t#include <shadowmap_pars_fragment>\n\t\t\t\t#include <shadowmask_pars_fragment>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\t\t\t\t\tvec4 noise = getNoise( worldPosition.xz * size );\n\t\t\t\t\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n\t\t\t\t\tvec3 diffuseLight = vec3(0.0);\n\t\t\t\t\tvec3 specularLight = vec3(0.0);\n\n\t\t\t\t\tvec3 worldToEye = eye-worldPosition.xyz;\n\t\t\t\t\tvec3 eyeDirection = normalize( worldToEye );\n\t\t\t\t\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n\t\t\t\t\tfloat distance = length(worldToEye);\n\n\t\t\t\t\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n\t\t\t\t\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );\n\n\t\t\t\t\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n\t\t\t\t\tfloat rf0 = 0.3;\n\t\t\t\t\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n\t\t\t\t\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n\t\t\t\t\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);\n\t\t\t\t\tvec3 outgoingLight = albedo;\n\t\t\t\t\tgl_FragColor = vec4( outgoingLight, alpha );\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <fog_fragment>\n\t\t\t\t}`\n\n\t\t};\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tfragmentShader: mirrorShader.fragmentShader,\n\t\t\tvertexShader: mirrorShader.vertexShader,\n\t\t\tuniforms: UniformsUtils.clone( mirrorShader.uniforms ),\n\t\t\tlights: true,\n\t\t\tside: side,\n\t\t\tfog: fog\n\t\t} );\n\n\t\tmaterial.uniforms[ 'mirrorSampler' ].value = renderTarget.texture;\n\t\tmaterial.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\t\tmaterial.uniforms[ 'alpha' ].value = alpha;\n\t\tmaterial.uniforms[ 'time' ].value = time;\n\t\tmaterial.uniforms[ 'normalSampler' ].value = normalSampler;\n\t\tmaterial.uniforms[ 'sunColor' ].value = sunColor;\n\t\tmaterial.uniforms[ 'waterColor' ].value = waterColor;\n\t\tmaterial.uniforms[ 'sunDirection' ].value = sunDirection;\n\t\tmaterial.uniforms[ 'distortionScale' ].value = distortionScale;\n\n\t\tmaterial.uniforms[ 'eye' ].value = eye;\n\n\t\tscope.material = material;\n\n\t\tscope.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\tmirrorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\n\n\t\t\tnormal.set( 0, 0, 1 );\n\t\t\tnormal.applyMatrix4( rotationMatrix );\n\n\t\t\tview.subVectors( mirrorWorldPosition, cameraWorldPosition );\n\n\t\t\t// Avoid rendering when mirror is facing away\n\n\t\t\tif ( view.dot( normal ) > 0 ) return;\n\n\t\t\tview.reflect( normal ).negate();\n\t\t\tview.add( mirrorWorldPosition );\n\n\t\t\trotationMatrix.extractRotation( camera.matrixWorld );\n\n\t\t\tlookAtPosition.set( 0, 0, - 1 );\n\t\t\tlookAtPosition.applyMatrix4( rotationMatrix );\n\t\t\tlookAtPosition.add( cameraWorldPosition );\n\n\t\t\ttarget.subVectors( mirrorWorldPosition, lookAtPosition );\n\t\t\ttarget.reflect( normal ).negate();\n\t\t\ttarget.add( mirrorWorldPosition );\n\n\t\t\tmirrorCamera.position.copy( view );\n\t\t\tmirrorCamera.up.set( 0, 1, 0 );\n\t\t\tmirrorCamera.up.applyMatrix4( rotationMatrix );\n\t\t\tmirrorCamera.up.reflect( normal );\n\t\t\tmirrorCamera.lookAt( target );\n\n\t\t\tmirrorCamera.far = camera.far; // Used in WebGLBackground\n\n\t\t\tmirrorCamera.updateMatrixWorld();\n\t\t\tmirrorCamera.projectionMatrix.copy( camera.projectionMatrix );\n\n\t\t\t// Update the texture matrix\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\t\t\ttextureMatrix.multiply( mirrorCamera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( mirrorCamera.matrixWorldInverse );\n\n\t\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n\t\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n\t\t\tmirrorPlane.setFromNormalAndCoplanarPoint( normal, mirrorWorldPosition );\n\t\t\tmirrorPlane.applyMatrix4( mirrorCamera.matrixWorldInverse );\n\n\t\t\tclipPlane.set( mirrorPlane.normal.x, mirrorPlane.normal.y, mirrorPlane.normal.z, mirrorPlane.constant );\n\n\t\t\tconst projectionMatrix = mirrorCamera.projectionMatrix;\n\n\t\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\n\t\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\n\t\t\tq.z = - 1.0;\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\n\n\t\t\t// Calculate the scaled plane vector\n\t\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\n\n\t\t\t// Replacing the third row of the projection matrix\n\t\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\n\t\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\n\t\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\n\t\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\n\n\t\t\teye.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\t// Render\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\tconst currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n\n\t\t\tscope.visible = false;\n\n\t\t\trenderer.xr.enabled = false; // Avoid camera modification and recursion\n\t\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\n\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\n\n\t\t\tif ( renderer.autoClear === false ) renderer.clear();\n\t\t\trenderer.render( scene, mirrorCamera );\n\n\t\t\tscope.visible = true;\n\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t// Restore viewport\n\n\t\t\tconst viewport = camera.viewport;\n\n\t\t\tif ( viewport !== undefined ) {\n\n\t\t\t\trenderer.state.viewport( viewport );\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n}\n\nWater.prototype.isWater = true;\n\nexport { Water };\n","import * as THREE from \"three\";\r\n\r\nimport { Water } from \"three/examples/jsm/objects/Water\";\r\n\r\nimport { FlyLine } from \"@/components/Earth/flyline\";\r\n\r\nconst vs = `\r\n  varying vec2 vUv;\r\n  varying vec3 fNormal;\r\n  varying vec3 vPosition;\r\n  void main()\r\n  {\r\n      vUv = uv;\r\n      fNormal=normal;\r\n      vPosition=position;\r\n      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n      gl_Position = projectionMatrix * mvPosition;\r\n  }\r\n`;\r\n\r\nconst fs = `\r\n  uniform float time;\r\n  varying vec2 vUv;\r\n  uniform sampler2D colorTexture;\r\n  uniform sampler2D colorTexture1;\r\n  varying vec3 fNormal;\r\n  varying vec3 vPosition;\r\n  void main( void ) {\r\n      vec2 position = vUv;\r\n      vec3 tempNomal= normalize(fNormal);\r\n      float power=step(1.2,abs(tempNomal.x));\r\n      vec4 colorb=texture2D(colorTexture1,position.xy);\r\n      vec4 colora = texture2D(colorTexture,vec2(vUv.x,fract(vUv.y-time))); \r\n      if(power>1.2){\r\n          gl_FragColor =colorb;\r\n      }else{\r\n          gl_FragColor =colorb+colorb*colora;      \r\n      }         \r\n  }\r\n`;\r\n\r\nlet buildingMesh: THREE.Mesh;\r\nlet areaMesh: THREE.Mesh;\r\nlet flyLine: FlyLine;\r\nlet streetMesh: THREE.Mesh;\r\nlet waterMesh: THREE.Mesh;\r\nlet greenLandMesh: THREE.Mesh;\r\nlet requestAnimationId: number;\r\n\r\nconst setBuildingMesh = (shape: THREE.Shape, height: number) => {\r\n  const buildingColor = require(\"@/assets/city/buildingcolor2.png\");\r\n  const buildingByte = require(\"@/assets/city/buildingbyte.png\");\r\n  const texture = new THREE.TextureLoader().load(buildingColor);\r\n  const texture1 = new THREE.TextureLoader().load(buildingByte);\r\n  const geometry = new THREE.ExtrudeGeometry(shape, {\r\n    steps: 1,\r\n    depth: height,\r\n    bevelEnabled: false,\r\n    bevelThickness: 1,\r\n    bevelSize: 0,\r\n    bevelOffset: 0,\r\n    bevelSegments: 1,\r\n  });\r\n  const materia = new THREE.ShaderMaterial({\r\n    uniforms: {\r\n      time: {\r\n        value: 0.3,\r\n      },\r\n      colorTexture: {\r\n        value: texture,\r\n      },\r\n      colorTexture1: {\r\n        value: texture1,\r\n      },\r\n    },\r\n    vertexShader: vs,\r\n    fragmentShader: fs,\r\n    // blending: THREE.AdditiveBlending,\r\n    transparent: true,\r\n    depthTest: false,\r\n    // side: THREE.DoubleSide,\r\n  });\r\n\r\n  return new THREE.Mesh(geometry, materia);\r\n};\r\n\r\nconst setBuildingBmMesh = (result: any[]) => {\r\n  const resultMesh = new THREE.Mesh();\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    const shape = new THREE.Shape();\r\n    shape.moveTo(result[i].position[0], result[i].position[1]);\r\n    for (let j = 2; j < result[i].position.length; j += 2) {\r\n      shape.lineTo(result[i].position[j], result[i].position[j + 1]);\r\n    }\r\n    const geometry = new THREE.ExtrudeGeometry(shape, {\r\n      steps: 1,\r\n      depth: result[i].height,\r\n      bevelEnabled: false,\r\n      bevelThickness: 1,\r\n      bevelSize: 0,\r\n      bevelOffset: 0,\r\n      bevelSegments: 1,\r\n    });\r\n    const tmpMateria = new THREE.MeshPhysicalMaterial({\r\n      color: new THREE.Color(0x7d8ea5),\r\n      metalness: 0,\r\n      roughness: 0.5,\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, tmpMateria);\r\n    resultMesh.add(mesh);\r\n  }\r\n\r\n  buildingMesh = resultMesh;\r\n\r\n  return resultMesh;\r\n};\r\n\r\nconst setAreaMesh = (result: any[]) => {\r\n  const resultMesh = new THREE.Mesh();\r\n  const starImg = require(\"@/assets/city/star.jpg\");\r\n  const cubeMap = new THREE.CubeTextureLoader().load(\r\n    new Array(6).fill(starImg)\r\n  );\r\n  // console.log(result);\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    // const geometry = new THREE.BufferGeometry().setFromPoints(result[i].position);\r\n    const shape = new THREE.Shape();\r\n    shape.moveTo(result[i].position[0], result[i].position[1]);\r\n    for (let j = 2; j < result[i].position.length; j += 2) {\r\n      shape.lineTo(result[i].position[j], result[i].position[j + 1]);\r\n    }\r\n    const geometry = new THREE.ShapeGeometry(shape);\r\n    const tmpMateria = new THREE.MeshBasicMaterial({\r\n      color: new THREE.Color(0x00007f),\r\n      // envMap: cubeMap,\r\n      depthTest: false,\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, tmpMateria);\r\n    resultMesh.add(mesh);\r\n  }\r\n\r\n  areaMesh = resultMesh;\r\n\r\n  return resultMesh;\r\n};\r\n\r\nconst setStreet = (result: any[]) => {\r\n  flyLine = new FlyLine(1, [], 2000);\r\n  const resultMesh = new THREE.Mesh();\r\n  const flyLineData = [];\r\n  const colorData = [];\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    const tmp = [];\r\n    for (let j = 0; j < result[i].position.length; j += 2) {\r\n      tmp.push(\r\n        new THREE.Vector3(result[i].position[j], result[i].position[j + 1], 0)\r\n      );\r\n      colorData.push(\r\n        new THREE.Vector3(Math.random(), Math.random(), Math.random())\r\n      );\r\n    }\r\n    const curve = new THREE.CatmullRomCurve3(tmp);\r\n\r\n    const points = curve.getPoints(2000);\r\n    flyLineData.push(points);\r\n  }\r\n  flyLine.setParticles(flyLineData, colorData);\r\n  for (let i = 0; i < flyLine.particles.length; i++) {\r\n    resultMesh.add(flyLine.particles[i]);\r\n  }\r\n  flyLine.moveAction({ time: 0.0 }, { time: 0.6 }, 10000);\r\n\r\n  streetMesh = resultMesh;\r\n\r\n  return resultMesh;\r\n};\r\n\r\nconst setGreenLand = (result: any[]) => {\r\n  const resultMesh = new THREE.Mesh();\r\n  const greenJpg = require(\"@/assets/city/green.jpg\");\r\n  const greenTexture = new THREE.TextureLoader().load(greenJpg);\r\n  greenTexture.wrapS = THREE.RepeatWrapping;\r\n  greenTexture.wrapT = THREE.RepeatWrapping;\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    // const geometry = new THREE.BufferGeometry().setFromPoints(result[i].position);\r\n    const shape = new THREE.Shape();\r\n    shape.moveTo(result[i].position[0], result[i].position[1]);\r\n    for (let j = 2; j < result[i].position.length; j += 2) {\r\n      shape.lineTo(result[i].position[j], result[i].position[j + 1]);\r\n    }\r\n    const geometry = new THREE.ShapeGeometry(shape);\r\n    const tmpMateria = new THREE.MeshBasicMaterial({\r\n      map: greenTexture,\r\n      depthTest: false,\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, tmpMateria);\r\n    resultMesh.add(mesh);\r\n  }\r\n\r\n  greenLandMesh = resultMesh;\r\n\r\n  return resultMesh;\r\n};\r\n\r\nconst setWater = (result: any[]) => {\r\n  const waterJpg = require(\"@/assets/city/water.jpg\");\r\n  const waterMapPng = require(\"@/assets/city/buildingcolor2.png\");\r\n  const resultMesh = new THREE.Mesh();\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    const shape = new THREE.Shape();\r\n    shape.moveTo(result[i].position[0], result[i].position[1]);\r\n    for (let j = 2; j < result[i].position.length; j += 2) {\r\n      shape.lineTo(result[i].position[j], result[i].position[j + 1]);\r\n    }\r\n\r\n    const geometry = new THREE.ShapeGeometry(shape);\r\n    const waterMesh = new Water(geometry, {\r\n      textureWidth: 512,\r\n      textureHeight: 512,\r\n      waterNormals: new THREE.TextureLoader().load(\r\n        waterJpg,\r\n        function (texture) {\r\n          texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n        }\r\n      ),\r\n      sunDirection: new THREE.Vector3(),\r\n      sunColor: 0xffffff,\r\n      waterColor: 0x001e0f,\r\n      distortionScale: 3.7,\r\n      // fog: scene.fog !== undefined\r\n    });\r\n    resultMesh.add(waterMesh);\r\n  }\r\n\r\n  waterMesh = resultMesh;\r\n  console.log(waterMesh);\r\n\r\n  updateWater();\r\n\r\n  return waterMesh;\r\n};\r\n\r\nconst updateWater = () => {\r\n  const updateAction = () => {\r\n    // const time = performance.now() * 0.001;\r\n    for (let i = 0; i < waterMesh.children.length; i++) {\r\n      // @ts-ignore\r\n      waterMesh.children[i].material.uniforms.time.value += 1.0 / 60;\r\n    }\r\n  };\r\n  const animation = () => {\r\n    requestAnimationId = requestAnimationFrame(animation);\r\n    updateAction();\r\n  };\r\n  animation();\r\n};\r\n\r\nconst geoDestroy = () => {\r\n  if (areaMesh) {\r\n    while (areaMesh.children.length > 0) {\r\n      (areaMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (areaMesh.children[0] as THREE.Mesh).material.dispose();\r\n      areaMesh.remove(areaMesh.children[0]);\r\n    }\r\n    areaMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    areaMesh.material.dispose();\r\n  }\r\n  if (buildingMesh) {\r\n    while (buildingMesh.children.length > 0) {\r\n      (buildingMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (buildingMesh.children[0] as THREE.Mesh).material.dispose();\r\n      buildingMesh.remove(buildingMesh.children[0]);\r\n    }\r\n    buildingMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    buildingMesh.material.dispose();\r\n  }\r\n  if (streetMesh) {\r\n    flyLine.destroy(streetMesh);\r\n    while (streetMesh.children.length > 0) {\r\n      (streetMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (streetMesh.children[0] as THREE.Mesh).material.dispose();\r\n      streetMesh.remove(streetMesh.children[0]);\r\n    }\r\n    streetMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    streetMesh.material.dispose();\r\n  }\r\n  if (waterMesh) {\r\n    if (requestAnimationId) cancelAnimationFrame(requestAnimationId);\r\n    while (waterMesh.children.length > 0) {\r\n      (waterMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (waterMesh.children[0] as THREE.Mesh).material.dispose();\r\n      waterMesh.remove(waterMesh.children[0]);\r\n    }\r\n    waterMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    waterMesh.material.dispose();\r\n  }\r\n  if (greenLandMesh) {\r\n    while (greenLandMesh.children.length > 0) {\r\n      (greenLandMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (greenLandMesh.children[0] as THREE.Mesh).material.dispose();\r\n      greenLandMesh.remove(greenLandMesh.children[0]);\r\n    }\r\n    greenLandMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    greenLandMesh.material.dispose();\r\n  }\r\n};\r\n\r\nexport {\r\n  setBuildingMesh,\r\n  setBuildingBmMesh,\r\n  setAreaMesh,\r\n  geoDestroy,\r\n  setStreet,\r\n  setWater,\r\n  setGreenLand,\r\n};\r\n","import * as THREE from \"three\";\r\nimport { Easing, Tween } from \"@tweenjs/tween.js\";\r\n\r\nconst vs = `\r\n  varying vec2 vUv;\r\n  \r\n  void main() {\r\n      vUv = uv;\r\n      gl_Position = projectionMatrix*viewMatrix*modelMatrix*vec4( position, 1.0 );\r\n  }\r\n`;\r\n\r\nconst fs = `\r\n  uniform float time;\r\n  varying vec2 vUv;\r\n  uniform sampler2D dtPyramidTexture;\r\n  uniform vec3 uColor;\r\n  void main() {\r\n    vec2 st = vUv;\r\n    vec4 colorImage = texture2D(dtPyramidTexture, vec2(vUv.x,fract(vUv.y-time)));\r\n    //float alpha=mix(0.1,1.0,clamp((1.0-vUv.y) * uColor.a,0.0,1.0)) +(1.0-sign(vUv.y-time*0.001))*0.2*(1.0-colorImage.r);\r\n    vec3 diffuse =(1.0-colorImage.a)*vec3(0.8,1.0,0.0)+colorImage.rgb*vec3(0.8,1.0,0);\r\n    gl_FragColor = vec4(diffuse,0.7);\r\n  }\r\n`;\r\n\r\nconst png = require(\"@/assets/city/guangzhaojianbianbai.png\");\r\nconst pngTexture = new THREE.TextureLoader().load(png);\r\n\r\nclass FeatureCylinder {\r\n  result: THREE.Mesh;\r\n  position: number[][];\r\n  requestAnimationId: number;\r\n  tweenMove: any;\r\n  cylinder: THREE.Mesh[];\r\n  translate: number;\r\n  angle: number;\r\n  constructor(position: number[][]) {\r\n    this.position = position;\r\n    this.result = new THREE.Mesh();\r\n    this.requestAnimationId = 0;\r\n    this.tweenMove = null;\r\n    this.cylinder = [];\r\n    this.translate = 1;\r\n    this.angle = 0;\r\n  }\r\n\r\n  setResult() {\r\n    for (let i = 0; i < this.position.length; i += 1) {\r\n      const mesh = this.setFeatureCylinder(\r\n        this.position[i][0],\r\n        this.position[i][1],\r\n        3\r\n      );\r\n      this.result.add(mesh);\r\n      this.cylinder.push(mesh);\r\n    }\r\n  }\r\n\r\n  setFeatureCylinder(x: number, y: number, z: number) {\r\n    const geometry = new THREE.CylinderBufferGeometry(\r\n      0,\r\n      0.6,\r\n      1,\r\n      4,\r\n      1,\r\n      false,\r\n      0,\r\n      6.3\r\n    );\r\n    const material = new THREE.ShaderMaterial({\r\n      uniforms: {\r\n        dtPyramidTexture: {\r\n          value: pngTexture,\r\n        },\r\n        time: {\r\n          value: 0,\r\n        },\r\n        uColor: {\r\n          value: new THREE.Color(\"#5588aa\"),\r\n        },\r\n      },\r\n      vertexShader: vs,\r\n      fragmentShader: fs,\r\n      side: THREE.DoubleSide,\r\n      transparent: true,\r\n    });\r\n\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    mesh.position.set(x, y, z);\r\n    mesh.rotateX(-Math.PI / 2);\r\n\r\n    return mesh;\r\n  }\r\n\r\n  moveAction(startLocation: any, endLocation: any, duration: number) {\r\n    const updateAction = (time: number) => {\r\n      for (let k = 0; k < this.cylinder.length; k += 1) {\r\n        // @ts-ignore\r\n        this.cylinder[k].material.uniforms.time.value = time;\r\n        this.angle += 0.01;\r\n        this.cylinder[k].geometry.rotateY(0.06);\r\n        this.translate = Math.sin(this.angle) > 0 ? 0.01 : -0.01;\r\n        this.cylinder[k].geometry.translate(\r\n          0,\r\n          this.translate,\r\n          0\r\n        );\r\n      }\r\n    };\r\n    this.tweenMove = new Tween(startLocation)\r\n      .to(endLocation, duration)\r\n      .easing(Easing.Linear.None)\r\n      .onUpdate(() => {\r\n        updateAction(startLocation.time);\r\n      })\r\n      .onStop(() => {\r\n        this.tweenMove = null;\r\n      })\r\n      .onComplete(() => {\r\n        this.tweenMove = null;\r\n      })\r\n      .repeat(Infinity)\r\n      .start();\r\n\r\n    const animate = (time: number) => {\r\n      if (this.tweenMove !== null) {\r\n        this.requestAnimationId = requestAnimationFrame(animate);\r\n        this.tweenMove.update(time);\r\n      }\r\n    };\r\n    animate(0);\r\n  }\r\n\r\n  destroy() {\r\n    if(this.requestAnimationId) cancelAnimationFrame(this.requestAnimationId);\r\n    while (this.result.children.length > 0) {\r\n      (this.result.children[0] as THREE.Mesh).geometry.dispose();\r\n      // @ts-ignore\r\n      (this.result.children[0] as THREE.Mesh).material.dispose();\r\n      this.result.remove(this.result.children[0]);\r\n    }\r\n    this.result.geometry.dispose();\r\n    // @ts-ignore\r\n    this.result.material.dispose();\r\n  }\r\n}\r\n\r\nexport { FeatureCylinder };\r\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","/**\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'opacity': { value: 1.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}`\n\n};\n\nexport { CopyShader };\n","import {\n\tColor\n} from 'three';\n\n/**\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\nconst LuminosityHighPassShader = {\n\n\tshaderID: 'luminosityHighPass',\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'luminosityThreshold': { value: 1.0 },\n\t\t'smoothWidth': { value: 1.0 },\n\t\t'defaultColor': { value: new Color( 0x000000 ) },\n\t\t'defaultOpacity': { value: 0.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}`\n\n};\n\nexport { LuminosityHighPassShader };\n","import {\n\tAdditiveBlending,\n\tColor,\n\tLinearFilter,\n\tMeshBasicMaterial,\n\tRGBAFormat,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector2,\n\tVector3,\n\tWebGLRenderTarget\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { LuminosityHighPassShader } from '../shaders/LuminosityHighPassShader.js';\n\n/**\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\n * mip map chain of bloom textures and blurs them with different radii. Because\n * of the weighted combination of mips, and because larger blurs are done on\n * higher mips, this effect provides good quality and performance.\n *\n * Reference:\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\nclass UnrealBloomPass extends Pass {\n\n\tconstructor( resolution, strength, radius, threshold ) {\n\n\t\tsuper();\n\n\t\tthis.strength = ( strength !== undefined ) ? strength : 1;\n\t\tthis.radius = radius;\n\t\tthis.threshold = threshold;\n\t\tthis.resolution = ( resolution !== undefined ) ? new Vector2( resolution.x, resolution.y ) : new Vector2( 256, 256 );\n\n\t\t// create color only once here, reuse it later inside the render function\n\t\tthis.clearColor = new Color( 0, 0, 0 );\n\n\t\t// render targets\n\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\t\tthis.renderTargetsHorizontal = [];\n\t\tthis.renderTargetsVertical = [];\n\t\tthis.nMips = 5;\n\t\tlet resx = Math.round( this.resolution.x / 2 );\n\t\tlet resy = Math.round( this.resolution.y / 2 );\n\n\t\tthis.renderTargetBright = new WebGLRenderTarget( resx, resy, pars );\n\t\tthis.renderTargetBright.texture.name = 'UnrealBloomPass.bright';\n\t\tthis.renderTargetBright.texture.generateMipmaps = false;\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tconst renderTargetHorizonal = new WebGLRenderTarget( resx, resy, pars );\n\n\t\t\trenderTargetHorizonal.texture.name = 'UnrealBloomPass.h' + i;\n\t\t\trenderTargetHorizonal.texture.generateMipmaps = false;\n\n\t\t\tthis.renderTargetsHorizontal.push( renderTargetHorizonal );\n\n\t\t\tconst renderTargetVertical = new WebGLRenderTarget( resx, resy, pars );\n\n\t\t\trenderTargetVertical.texture.name = 'UnrealBloomPass.v' + i;\n\t\t\trenderTargetVertical.texture.generateMipmaps = false;\n\n\t\t\tthis.renderTargetsVertical.push( renderTargetVertical );\n\n\t\t\tresx = Math.round( resx / 2 );\n\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t\t// luminosity high pass material\n\n\t\tif ( LuminosityHighPassShader === undefined )\n\t\t\tconsole.error( 'THREE.UnrealBloomPass relies on LuminosityHighPassShader' );\n\n\t\tconst highPassShader = LuminosityHighPassShader;\n\t\tthis.highPassUniforms = UniformsUtils.clone( highPassShader.uniforms );\n\n\t\tthis.highPassUniforms[ 'luminosityThreshold' ].value = threshold;\n\t\tthis.highPassUniforms[ 'smoothWidth' ].value = 0.01;\n\n\t\tthis.materialHighPassFilter = new ShaderMaterial( {\n\t\t\tuniforms: this.highPassUniforms,\n\t\t\tvertexShader: highPassShader.vertexShader,\n\t\t\tfragmentShader: highPassShader.fragmentShader,\n\t\t\tdefines: {}\n\t\t} );\n\n\t\t// Gaussian Blur Materials\n\t\tthis.separableBlurMaterials = [];\n\t\tconst kernelSizeArray = [ 3, 5, 7, 9, 11 ];\n\t\tresx = Math.round( this.resolution.x / 2 );\n\t\tresy = Math.round( this.resolution.y / 2 );\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.separableBlurMaterials.push( this.getSeperableBlurMaterial( kernelSizeArray[ i ] ) );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'texSize' ].value = new Vector2( resx, resy );\n\n\t\t\tresx = Math.round( resx / 2 );\n\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t\t// Composite material\n\t\tthis.compositeMaterial = this.getCompositeMaterial( this.nMips );\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture1' ].value = this.renderTargetsVertical[ 0 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture2' ].value = this.renderTargetsVertical[ 1 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture3' ].value = this.renderTargetsVertical[ 2 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture4' ].value = this.renderTargetsVertical[ 3 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture5' ].value = this.renderTargetsVertical[ 4 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'bloomStrength' ].value = strength;\n\t\tthis.compositeMaterial.uniforms[ 'bloomRadius' ].value = 0.1;\n\t\tthis.compositeMaterial.needsUpdate = true;\n\n\t\tconst bloomFactors = [ 1.0, 0.8, 0.6, 0.4, 0.2 ];\n\t\tthis.compositeMaterial.uniforms[ 'bloomFactors' ].value = bloomFactors;\n\t\tthis.bloomTintColors = [ new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ) ];\n\t\tthis.compositeMaterial.uniforms[ 'bloomTintColors' ].value = this.bloomTintColors;\n\n\t\t// copy material\n\t\tif ( CopyShader === undefined ) {\n\n\t\t\tconsole.error( 'THREE.UnrealBloomPass relies on CopyShader' );\n\n\t\t}\n\n\t\tconst copyShader = CopyShader;\n\n\t\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\n\t\tthis.copyUniforms[ 'opacity' ].value = 1.0;\n\n\t\tthis.materialCopy = new ShaderMaterial( {\n\t\t\tuniforms: this.copyUniforms,\n\t\t\tvertexShader: copyShader.vertexShader,\n\t\t\tfragmentShader: copyShader.fragmentShader,\n\t\t\tblending: AdditiveBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true\n\t\t} );\n\n\t\tthis.enabled = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis._oldClearColor = new Color();\n\t\tthis.oldClearAlpha = 1;\n\n\t\tthis.basic = new MeshBasicMaterial();\n\n\t\tthis.fsQuad = new FullScreenQuad( null );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.renderTargetsHorizontal.length; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].dispose();\n\n\t\t}\n\n\t\tfor ( let i = 0; i < this.renderTargetsVertical.length; i ++ ) {\n\n\t\t\tthis.renderTargetsVertical[ i ].dispose();\n\n\t\t}\n\n\t\tthis.renderTargetBright.dispose();\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tlet resx = Math.round( width / 2 );\n\t\tlet resy = Math.round( height / 2 );\n\n\t\tthis.renderTargetBright.setSize( resx, resy );\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].setSize( resx, resy );\n\t\t\tthis.renderTargetsVertical[ i ].setSize( resx, resy );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'texSize' ].value = new Vector2( resx, resy );\n\n\t\t\tresx = Math.round( resx / 2 );\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\n\n\t\trenderer.getClearColor( this._oldClearColor );\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\trenderer.setClearColor( this.clearColor, 0 );\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\n\n\t\t// Render input to screen\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\tthis.fsQuad.material = this.basic;\n\t\t\tthis.basic.map = readBuffer.texture;\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// 1. Extract Bright Areas\n\n\t\tthis.highPassUniforms[ 'tDiffuse' ].value = readBuffer.texture;\n\t\tthis.highPassUniforms[ 'luminosityThreshold' ].value = this.threshold;\n\t\tthis.fsQuad.material = this.materialHighPassFilter;\n\n\t\trenderer.setRenderTarget( this.renderTargetBright );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// 2. Blur All the mips progressively\n\n\t\tlet inputRenderTarget = this.renderTargetBright;\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.fsQuad.material = this.separableBlurMaterials[ i ];\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'colorTexture' ].value = inputRenderTarget.texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'direction' ].value = UnrealBloomPass.BlurDirectionX;\n\t\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'colorTexture' ].value = this.renderTargetsHorizontal[ i ].texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'direction' ].value = UnrealBloomPass.BlurDirectionY;\n\t\t\trenderer.setRenderTarget( this.renderTargetsVertical[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tinputRenderTarget = this.renderTargetsVertical[ i ];\n\n\t\t}\n\n\t\t// Composite All the mips\n\n\t\tthis.fsQuad.material = this.compositeMaterial;\n\t\tthis.compositeMaterial.uniforms[ 'bloomStrength' ].value = this.strength;\n\t\tthis.compositeMaterial.uniforms[ 'bloomRadius' ].value = this.radius;\n\t\tthis.compositeMaterial.uniforms[ 'bloomTintColors' ].value = this.bloomTintColors;\n\n\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ 0 ] );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// Blend it additively over the input texture\n\n\t\tthis.fsQuad.material = this.materialCopy;\n\t\tthis.copyUniforms[ 'tDiffuse' ].value = this.renderTargetsHorizontal[ 0 ].texture;\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( readBuffer );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// Restore renderer settings\n\n\t\trenderer.setClearColor( this._oldClearColor, this.oldClearAlpha );\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n\tgetSeperableBlurMaterial( kernelRadius ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t'KERNEL_RADIUS': kernelRadius,\n\t\t\t\t'SIGMA': kernelRadius\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t'colorTexture': { value: null },\n\t\t\t\t'texSize': { value: new Vector2( 0.5, 0.5 ) },\n\t\t\t\t'direction': { value: new Vector2( 0.5, 0.5 ) }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n\n\t\t\tfragmentShader:\n\t\t\t\t`#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}`\n\t\t} );\n\n\t}\n\n\tgetCompositeMaterial( nMips ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t'NUM_MIPS': nMips\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t'blurTexture1': { value: null },\n\t\t\t\t'blurTexture2': { value: null },\n\t\t\t\t'blurTexture3': { value: null },\n\t\t\t\t'blurTexture4': { value: null },\n\t\t\t\t'blurTexture5': { value: null },\n\t\t\t\t'dirtTexture': { value: null },\n\t\t\t\t'bloomStrength': { value: 1.0 },\n\t\t\t\t'bloomFactors': { value: null },\n\t\t\t\t'bloomTintColors': { value: null },\n\t\t\t\t'bloomRadius': { value: 0.0 }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n\n\t\t\tfragmentShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform sampler2D dirtTexture;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}`\n\t\t} );\n\n\t}\n\n}\n\nUnrealBloomPass.BlurDirectionX = new Vector2( 1.0, 0.0 );\nUnrealBloomPass.BlurDirectionY = new Vector2( 0.0, 1.0 );\n\nexport { UnrealBloomPass };\n","import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\n\nclass ShaderPass extends Pass {\n\n\tconstructor( shader, textureID ) {\n\n\t\tsuper();\n\n\t\tthis.textureID = ( textureID !== undefined ) ? textureID : 'tDiffuse';\n\n\t\tif ( shader instanceof ShaderMaterial ) {\n\n\t\t\tthis.uniforms = shader.uniforms;\n\n\t\t\tthis.material = shader;\n\n\t\t} else if ( shader ) {\n\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tthis.material = new ShaderMaterial( {\n\n\t\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\t\tuniforms: this.uniforms,\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ShaderPass };\n","import { Pass } from './Pass.js';\n\nclass MaskPass extends Pass {\n\n\tconstructor( scene, camera ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.clear = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis.inverse = false;\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst context = renderer.getContext();\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tlet writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n}\n\nclass ClearMaskPass extends Pass {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.needsSwap = false;\n\n\t}\n\n\trender( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n}\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tBufferGeometry,\n\tClock,\n\tFloat32BufferAttribute,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from './ShaderPass.js';\nimport { MaskPass } from './MaskPass.js';\nimport { ClearMaskPass } from './MaskPass.js';\n\nclass EffectComposer {\n\n\tconstructor( renderer, renderTarget ) {\n\n\t\tthis.renderer = renderer;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst parameters = {\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tformat: RGBAFormat\n\t\t\t};\n\n\t\t\tconst size = renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t\t} else {\n\n\t\t\tthis._pixelRatio = 1;\n\t\t\tthis._width = renderTarget.width;\n\t\t\tthis._height = renderTarget.height;\n\n\t\t}\n\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tthis.renderToScreen = true;\n\n\t\tthis.passes = [];\n\n\t\t// dependencies\n\n\t\tif ( CopyShader === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t\t}\n\n\t\tif ( ShaderPass === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t\t}\n\n\t\tthis.copyPass = new ShaderPass( CopyShader );\n\n\t\tthis.clock = new Clock();\n\n\t}\n\n\tswapBuffers() {\n\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t}\n\n\taddPass( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tinsertPass( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tremovePass( pass ) {\n\n\t\tconst index = this.passes.indexOf( pass );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tthis.passes.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\tisLastEnabledPass( passIndex ) {\n\n\t\tfor ( let i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\trender( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tconst currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tlet maskActive = false;\n\n\t\tfor ( let i = 0, il = this.passes.length; i < il; i ++ ) {\n\n\t\t\tconst pass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tconst context = this.renderer.getContext();\n\t\t\t\t\tconst stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\treset( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst effectiveWidth = this._width * this._pixelRatio;\n\t\tconst effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t}\n\n\tsetPixelRatio( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n}\n\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { EffectComposer, Pass, FullScreenQuad };\n","import {\n\tColor\n} from 'three';\nimport { Pass } from './Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n","import * as THREE from \"three\";\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\n\nimport { BaseThree } from \"@/utils/basethree\";\n\nlet finalComposer: EffectComposer,\n  bloomPass: UnrealBloomPass,\n  composer: EffectComposer,\n  bloomLayer: THREE.Layers;\n\nconst bloomParams = {\n  exposure: 1,\n  bloomStrength: 1.9,\n  bloomThreshold: 0.3,\n  bloomRadius: 0.3,\n  light: 0.1,\n};\n\nconst BLOOM_SCENE = 9999;\n\nconst setBloom = (domContainer: HTMLDivElement, baseThree: BaseThree) => {\n  const renderScene = new RenderPass(baseThree.scene, baseThree.camera);\n\n  bloomPass = new UnrealBloomPass(\n    new THREE.Vector2(domContainer.offsetWidth, domContainer.offsetHeight),\n    1.5,\n    0.4,\n    0.85\n  );\n  bloomPass.renderToScreen = true;\n  bloomPass.threshold = bloomParams.bloomThreshold;\n  bloomPass.strength = bloomParams.bloomStrength;\n  bloomPass.radius = bloomParams.bloomRadius;\n\n  composer = new EffectComposer(baseThree.renderer);\n  composer.setSize(domContainer.offsetWidth, domContainer.offsetHeight);\n  composer.addPass(renderScene);\n  // composer.addPass(bloomPass);\n\n  bloomLayer = new THREE.Layers();\n  bloomLayer.set(BLOOM_SCENE);\n\n  const vertexShader = `\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }\n    `;\n\n  const fragmentShader = `\n      uniform sampler2D baseTexture;\n      uniform sampler2D bloomTexture;\n      varying vec2 vUv;\n        void main() {\n        gl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n      }\n    `;\n\n  const finalPass = new ShaderPass(\n    new THREE.ShaderMaterial({\n      uniforms: {\n        baseTexture: { value: null },\n        bloomTexture: { value: composer.renderTarget2.texture },\n        // bloomTexture: { value: null },\n      },\n      vertexShader,\n      fragmentShader,\n      defines: {},\n    }),\n    \"baseTexture\"\n  );\n  finalPass.needsSwap = true;\n\n  finalComposer = new EffectComposer(baseThree.renderer);\n  finalComposer.addPass(renderScene);\n  finalComposer.addPass(finalPass);\n};\n\nconst materials: any = {};\nconst bloomIgnore: any = [];\nconst darkMaterial = new THREE.MeshBasicMaterial({ color: \"black\" });\nfunction darkenNonBloomed(obj: any) {\n  // if (obj instanceof THREE.Scene) { // Scene\n  //   materials.scene = obj.background;\n  //   obj.background = null;\n  //   return;\n  // }\n  if (\n    // obj instanceof THREE.Sprite || // Sprite\n    // bloomIgnore.includes(obj.type) ||\n    obj.isMesh &&\n    bloomLayer.test(obj.layers) === false // \n  ) {\n    materials[obj.uuid] = obj.material;\n    obj.material = darkMaterial;\n  }\n}\n\nfunction restoreMaterial(obj: any) {\n  // if (obj instanceof THREE.Scene) {\n  //   obj.background = materials.scene;\n  //   delete materials.scene;\n  //   return;\n  // }\n  if (materials[obj.uuid]) {\n    obj.material = materials[obj.uuid];\n    delete materials[obj.uuid];\n  }\n}\n\nexport {\n  BLOOM_SCENE,\n  finalComposer,\n  composer,\n  setBloom,\n  restoreMaterial,\n  darkenNonBloomed,\n  bloomPass,\n};\n","import * as THREE from \"three\";\r\n\r\nconst vs = `\r\n  varying vec2 vUv;\r\n  void main() {\r\n    vUv = uv;\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  }\r\n`;\r\n\r\nconst fs = `\r\n  uniform vec3 u_color;\r\n  uniform sampler2D backgroundTexture;\r\n  varying vec2 vUv;\r\n  uniform float offsetX;\r\n  uniform float offsetY;\r\n\r\n  void main() {\r\n    gl_FragColor = texture2D(backgroundTexture, vec2(vUv.x + offsetX, vUv.y + offsetY));\r\n  }\r\n`;\r\n\r\nlet waterMesh: THREE.Mesh;\r\nlet requestAnimationId: number;\r\n\r\nconst setWater = (result: any[]) => {\r\n  const waterJpg = require(\"@/assets/city/water.jpg\");\r\n  const waterNormalTexture = new THREE.TextureLoader().load(waterJpg);\r\n  waterNormalTexture.wrapS = THREE.RepeatWrapping;\r\n  waterNormalTexture.wrapT = THREE.RepeatWrapping;\r\n  const resultMesh = new THREE.Mesh();\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    const shape = new THREE.Shape();\r\n    shape.moveTo(result[i].position[0], result[i].position[1]);\r\n    for (let j = 2; j < result[i].position.length; j += 2) {\r\n      shape.lineTo(result[i].position[j], result[i].position[j + 1]);\r\n    }\r\n\r\n    const geometry = new THREE.ShapeGeometry(shape);\r\n    const material = new THREE.ShaderMaterial({\r\n      uniforms: {\r\n        offsetX: { value: 0.1 },\r\n        backgroundTexture: { value: waterNormalTexture },\r\n        u_color: { value: new THREE.Color(1, 1, 1) },\r\n        offsetY: { value: 0.3 },\r\n      },\r\n      vertexShader: vs,\r\n      fragmentShader: fs,\r\n      // depthTest: false,\r\n    });\r\n    const waterMesh = new THREE.Mesh(geometry, material);\r\n    resultMesh.add(waterMesh);\r\n  }\r\n\r\n  waterMesh = resultMesh;\r\n  console.log(waterMesh);\r\n\r\n  updateWater();\r\n\r\n  return waterMesh;\r\n};\r\n\r\nconst updateWater = () => {\r\n  let offsetX = 0.0;\r\n  let offsetY = 0.0;\r\n  const updateAction = () => {\r\n    // const time = performance.now() * 0.001;\r\n    for (let i = 0; i < waterMesh.children.length; i++) {\r\n      if (offsetX > 1) offsetX = 0;\r\n      offsetX += 0.001;\r\n      if (offsetY > 1) offsetY = 0;\r\n      // @ts-ignore\r\n      waterMesh.children[i].material.uniforms.offsetX.value = offsetX;\r\n      // @ts-ignore\r\n      waterMesh.children[i].material.uniforms.offsetY.value = offsetX;\r\n    }\r\n  };\r\n  const animation = () => {\r\n    requestAnimationId = requestAnimationFrame(animation);\r\n    updateAction();\r\n  };\r\n  animation();\r\n};\r\n\r\nconst destroyWater = () => {\r\n  if (waterMesh) {\r\n    if (requestAnimationId) cancelAnimationFrame(requestAnimationId);\r\n    while (waterMesh.children.length > 0) {\r\n      (waterMesh.children[0] as THREE.Mesh).geometry.dispose();\r\n      //   @ts-ignore\r\n      waterMesh.children[0].material.dispose();\r\n      waterMesh.remove(waterMesh.children[0]);\r\n    }\r\n    waterMesh.geometry.dispose();\r\n    // @ts-ignore\r\n    waterMesh.material.dispose();\r\n  }\r\n};\r\n\r\nexport { setWater, destroyWater };\r\n","import * as THREE from \"three\";\r\n// import { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\r\n// import { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\n// import { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\n// import { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { MTLLoader } from \"three/examples/jsm/loaders/MTLLoader\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\n\r\nimport { BaseThree } from \"@/utils/basethree\";\r\nimport { getPositionFromJson } from \"@/utils/jsonmodel\";\r\nimport {\r\n  getHalfSphere,\r\n  halfSphereDestroy,\r\n} from \"@/components/CityPage/halfsphere\";\r\nimport {\r\n  getDistanceBuffer,\r\n  cylinderBuffer,\r\n  distenceBufferDestroy,\r\n} from \"@/components/CityPage/distencebuffer\";\r\nimport {\r\n  setBuildingBmMesh,\r\n  setAreaMesh,\r\n  geoDestroy,\r\n  setStreet,\r\n  setGreenLand\r\n} from \"@/components/CityPage/addgeo\";\r\nimport { FeatureCylinder } from \"@/components/CityPage/featurecylinder\";\r\nimport {\r\n  BLOOM_SCENE,\r\n  finalComposer,\r\n  composer,\r\n  setBloom,\r\n  restoreMaterial,\r\n  darkenNonBloomed,\r\n  bloomPass,\r\n} from \"@/components/CityPage/addbloom\";\r\nimport {setWater, destroyWater} from \"@/components/CityPage/addwater\";\r\n\r\nlet group: THREE.Object3D,\r\n  ambientLight: THREE.AmbientLight,\r\n  pointLight: THREE.PointLight,\r\n  baseThree: BaseThree,\r\n  featureCylinder: FeatureCylinder,\r\n  animateFrame: number;\r\n\r\nconst init = (domContainer: HTMLDivElement) => {\r\n  baseThree = new BaseThree(domContainer);\r\n  baseThree.camera.position.set(0, -20, 30);\r\n  baseThree.orbitControl.maxDistance = 60;\r\n  const skyImg = require(\"@/assets/city/sky.jpg\");\r\n  baseThree.scene.background = new THREE.TextureLoader().load(skyImg);\r\n\r\n  group = new THREE.Object3D();\r\n  baseThree.scene.add(group);\r\n\r\n  ambientLight = new THREE.AmbientLight(0x404040);\r\n  baseThree.scene.add(ambientLight);\r\n  pointLight = new THREE.PointLight(0xffffff, 1);\r\n  baseThree.scene.add(pointLight);\r\n\r\n  setBloom(domContainer, baseThree);\r\n\r\n  // addModel();\r\n  addArea();\r\n  addBuildingBM();\r\n  addStreet();\r\n  addHalfSphere();\r\n  addDistanceBuffer();\r\n  addCylinder();\r\n  addWater();\r\n  addGreenLand();\r\n\r\n  // console.log(baseThree.scene);\r\n};\r\n\r\nconst animate = () => {\r\n  animateFrame = requestAnimationFrame(animate);\r\n  composer.render();\r\n  // baseThree.scene.traverse(darkenNonBloomed); // \r\n  // composer.render();\r\n  // baseThree.scene.traverse(restoreMaterial); // \r\n  // finalComposer.render();\r\n  pointLight.position.copy(baseThree.camera.position);\r\n  baseThree.orbitControl.update();\r\n};\r\n\r\nconst addModel = () => {\r\n  const starImg = require(\"@/assets/city/star.jpg\");\r\n  const cubeMap = new THREE.CubeTextureLoader().load(\r\n    new Array(6).fill(starImg)\r\n  );\r\n  // cubeMap.encoding = THREE.RGBM16Encoding;\r\n  new MTLLoader().setPath(\"model/\").load(\"city.mtl\", (materials) => {\r\n    materials.preload();\r\n    new OBJLoader()\r\n      .setMaterials(materials)\r\n      .setPath(\"model/\")\r\n      .load(\"city.obj\", (object) => {\r\n        // console.log(object);\r\n        object.traverse((child: any) => {\r\n          if (child.isMesh) {\r\n            child.material.envMap = cubeMap;\r\n            // child.material.needsUpdate = true;\r\n          }\r\n        });\r\n\r\n        group.add(object);\r\n        // console.log(group);\r\n        group.position.set(-30, 0, -31);\r\n        baseThree.camera.lookAt(group.position);\r\n      });\r\n  });\r\n};\r\n\r\nconst addArea = () => {\r\n  const target = require(\"@/assets/city/json/area.json\");\r\n  // console.log(target);\r\n  const result = getPositionFromJson(target);\r\n  // console.log(result);\r\n  const mesh = setAreaMesh(result);\r\n  baseThree.scene.add(mesh);\r\n};\r\nconst addBuildingBM = () => {\r\n  const target = require(\"@/assets/city/json/building.json\");\r\n  const result = getPositionFromJson(target, 0.5);\r\n  const bm = setBuildingBmMesh(result);\r\n  baseThree.scene.add(bm);\r\n};\r\n\r\nconst addStreet = () => {\r\n  const target = require(\"@/assets/city/json/street.json\");\r\n  const result = getPositionFromJson(target);\r\n  // console.log(result);\r\n  const mesh = setStreet(result);\r\n  baseThree.scene.add(mesh);\r\n};\r\n\r\nconst addGreenLand = () => {\r\n  const target = require(\"@/assets/city/json/greenlandbj.json\");\r\n  const result = getPositionFromJson(target);\r\n  const mesh = setGreenLand(result);\r\n  baseThree.scene.add(mesh);\r\n};\r\n\r\nconst addHalfSphere = () => {\r\n  const mesh = getHalfSphere(baseThree.camera);\r\n  // console.log(mesh);\r\n  baseThree.scene.add(mesh);\r\n};\r\n\r\nconst addDistanceBuffer = () => {\r\n  // const mesh = getDistanceBuffer({ x: 0, y: 0, z: 0 }, 3);\r\n  // mesh.layers.enable(BLOOM_SCENE);\r\n  \r\n  const mesh = cylinderBuffer({ x: 0, y: 0, z: 0 }, 3);\r\n  baseThree.scene.add(mesh);\r\n};\r\n\r\nconst addCylinder = () => {\r\n  const data = [\r\n    [2, 3],\r\n    [10, 20],\r\n    [-20, -30],\r\n  ];\r\n  featureCylinder = new FeatureCylinder(data);\r\n  featureCylinder.setResult();\r\n  baseThree.scene.add(featureCylinder.result);\r\n  // console.log(featureCylinder.cylinder);\r\n  featureCylinder.moveAction({ time: 0.0 }, { time: 1.0 }, 2000);\r\n};\r\n\r\nconst addWater = () => {\r\n  const target = require(\"@/assets/city/json/water.json\");\r\n  const result = getPositionFromJson(target, 0.5);\r\n  const water = setWater(result);\r\n  baseThree.scene.add(water);\r\n};\r\n\r\nconst destroy = () => {\r\n  cancelAnimationFrame(animateFrame);\r\n  pointLight.dispose();\r\n  ambientLight.dispose();\r\n  bloomPass.dispose();\r\n  geoDestroy();\r\n  halfSphereDestroy();\r\n  distenceBufferDestroy();\r\n  destroyWater();\r\n  featureCylinder?.destroy();\r\n\r\n  group.children.forEach((item: any) => {\r\n    item.children.forEach((subItem: any) => {\r\n      subItem.geometry.dispose();\r\n      subItem.material.dispose();\r\n    });\r\n  });\r\n  baseThree.destroy();\r\n};\r\n\r\nexport { init, animate, destroy, baseThree };\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { ref, onMounted, onBeforeUnmount, inject } from \"vue\";\r\nimport { init, animate, destroy, baseThree } from \"./glrender\";\r\nimport { btnData } from \"@/components/Layout/ToolBar/main\";\r\n// import GeneralView from \"@/components/CityPage/GeneralView/index.vue\";\r\n// import PipeEquipment from \"@/components/CityPage/PipeEquipment/index.vue\";\r\n// import PipePosition from \"@/components/CityPage/PipePosition/index.vue\";\r\n// import PipeMessage from \"@/components/CityPage/PipeMessage/index.vue\";\r\n// export default {\r\n//   name: \"City\",\r\n//   setup() {\r\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\r\nconst cityContainer = ref();\r\n\r\nconst setCurrentSceneState: any = inject(\"setCurrentSceneState\");\r\n\r\nonMounted(() => {\r\n  init(cityContainer.value);\r\n  setCurrentSceneState(baseThree);\r\n  animate();\r\n  btnData.rotateBtn.isChecked = true;\r\n  baseThree.startRotate();\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  destroy();\r\n});\r\n\r\n//     return { cityContainer, GeneralView };\r\n//   },\r\n//   // components: {GeneralView}\r\n// };\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"city-container\",\n    ref_key: \"cityContainer\",\n    ref: cityContainer\n  }, null, 512))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=50acadbf&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wwwwwk/Desktop/items/3dself/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-50acadbf\"]])\n\nexport default __exports__","\r\nimport { inject } from \"vue\";\r\nimport City from \"@/components/CityPage/index.vue\";\r\nexport default {\r\n  name: \"city\",\r\n  components: { City },\r\n  setup() {\r\n    const setToolbarState: any = inject(\"setToolbarState\");\r\n    setToolbarState({\r\n      routeControl: true,\r\n      rotateControl: true,\r\n      initControl: true,\r\n      heatmapControl: false,\r\n      flyLineControl: false,\r\n      featurePointControl: false,\r\n      distanceBufferControl: false,\r\n      lightMaskControl: false,\r\n      citySpriteControl: false\r\n    });\r\n  },\r\n};\r\n","import { render } from \"./city.vue?vue&type=template&id=03a7aa72&scoped=true&ts=true\"\nimport script from \"./city.vue?vue&type=script&lang=ts\"\nexport * from \"./city.vue?vue&type=script&lang=ts\"\n\nimport \"./city.vue?vue&type=style&index=0&id=03a7aa72&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wwwwwk/Desktop/items/3dself/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03a7aa72\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/buildingbyte.2d7891d5.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAEAYAAACk6Ai5AAAABGdBTUEAALGPC/xhBQAADKZJREFUeJzt2EENgDAAwEDAxkROAxjfVBASeqeg755jPPdacx4AAADAb11fBwAAAADvMwAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgAADAAAAAAIMAAAAAAgwAAAAACDAAAAAAIAAAwAAAAACDAAAAAAIMAAAAAAgwAAAAACAAAMAAAAAAgwAAAAACDAAAAAAIMAAAAAAgIANgUgIFTelkHoAAAAASUVORK5CYII=\"","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","module.exports = __webpack_public_path__ + \"img/sky.5683f04c.jpg\";"],"sourceRoot":""}