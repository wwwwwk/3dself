(function(t){function e(e){for(var r,a,c=e[0],s=e[1],u=e[2],f=0,h=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i={app:0},o=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-04a8a2ba":"2579ac30","chunk-2f3c2194":"2f14cfd1","chunk-689033a7":"cbbb6b7f","chunk-6f60c8f1":"1644d9f4","chunk-712abd72":"ec45aed0","chunk-6ebbcd54":"e06de74e","chunk-7604dc92":"e6dfe38f","chunk-a39fdcba":"ab1fabd2"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-04a8a2ba":1,"chunk-689033a7":1,"chunk-712abd72":1,"chunk-6ebbcd54":1,"chunk-7604dc92":1,"chunk-a39fdcba":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-04a8a2ba":"66535f31","chunk-2f3c2194":"31d6cfe0","chunk-689033a7":"c2d51661","chunk-6f60c8f1":"31d6cfe0","chunk-712abd72":"b04a6288","chunk-6ebbcd54":"21c5c6e0","chunk-7604dc92":"00795589","chunk-a39fdcba":"e07f9b26"}[t]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],f=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(f===r||f===i))return e()}var h=document.getElementsByTagName("style");for(c=0;c<h.length;c++){u=h[c],f=u.getAttribute("data-href");if(f===r||f===i)return e()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=e,l.onerror=function(e){var r=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[t],l.parentNode.removeChild(l),n(o)},l.href=i;var A=document.getElementsByTagName("head")[0];A.appendChild(l)})).then((function(){a[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=o);var u,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=c(t);var h=new Error;u=function(e){f.onerror=f.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",h.name="ChunkLoadError",h.type=r,h.request=a,n[1](h)}i[t]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:f})}),12e4);f.onerror=f.onload=u,document.head.appendChild(f)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],f=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var l=f;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0fcf":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));n("5a89");var r=Math.PI/180,a=(Math.PI,function(t){return t*r}),i=function(t,e,n){var r=a(90-e),i=a(180+t),o=-n*Math.sin(r)*Math.cos(i),c=n*Math.sin(r)*Math.sin(i),s=n*Math.cos(r);return{x:o,y:s,z:c}},o=function(t,e){var n=(t- -180)/360*2048,r=(90-e)/180*1024;return{x:n,y:r}},c=function(t,e){var n=20037508.34*t/180,r=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return r=20037508.34*r/180,{x:n,y:r}}},"15f8":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("159b"),n("5a89")),o=n("4721"),c=function(){function t(e){Object(r["a"])(this,t),this.scene=new i["vb"],this.renderer=new i["Sb"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e.offsetWidth,e.offsetHeight),e.appendChild(this.renderer.domElement);var n=e.offsetWidth/e.offsetHeight;this.camera=new i["jb"](45,n,1,1e3),this.orbitControl=new o["a"](this.camera,this.renderer.domElement),this.oldZoom=this.zoom,this.innerWidth=e.offsetWidth,this.innerHeight=e.offsetHeight,this.rayCaster=new i["tb"],this.offset=e.getBoundingClientRect(),this.mouseVector=new i["Nb"],this.requestAnimateId=0}return Object(a["a"])(t,[{key:"zoom",get:function(){return Math.round(this.orbitControl.target.distanceTo(this.orbitControl.object.position))}},{key:"destroy",value:function(){this.orbitControl.dispose(),this.destroyRotate()}},{key:"controlChange",value:function(t){this.orbitControl.addEventListener("change",t)}},{key:"changeZoom",value:function(){this.oldZoom=this.zoom}},{key:"removeChange",value:function(t){this.orbitControl.removeEventListener("change",t)}},{key:"delChildren",value:function(t){var e=this;Object.prototype.hasOwnProperty.call(t,"children")?t.children.forEach((function(t){e.delChildren(t)})):Object.prototype.hasOwnProperty.call(t,"geometry")?(t.geometry.dispose(),t.material.dispose()):t.dispose()}},{key:"getIntersects",value:function(t,e,n){var r=(t-this.offset.left)/this.innerWidth*2-1,a=-(e-this.offset.top)/this.innerHeight*2+1;return this.mouseVector.set(r,a),this.rayCaster.setFromCamera(this.mouseVector,this.camera),this.rayCaster.intersectObject(n,!0)}},{key:"startRotate",value:function(){var t=this,e=function e(){t.requestAnimateId=requestAnimationFrame(e),t.scene.rotateY(.004),t.scene.rotateZ(.002)};e()}},{key:"destroyRotate",value:function(){this.requestAnimateId&&cancelAnimationFrame(this.requestAnimateId)}}]),t}()},"196b":function(t,e,n){t.exports=n.p+"img/earth.7cddb76f.jpg"},"26f8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAMAAAD6gTxzAAAAAXNSR0IArs4c6QAAAO1QTFRFAAAAAAD/AID/QIC/K4DVSW3bM2bMMHDPNmvXPW3bOnTRN2/TOXHZOWzZOHDWN27XNnHYOG/VNnDXN27UNnHVOHDXNm/XOG/VN27VOHDXN27WN27VOHDWOG/XNm/VOHDWN2/WN27WOHDXN2/XN27VNm/WOG/WN27WN2/XOG/XOHDWNm7VOG/WN2/WNm/WN3DVNm7WN2/XNm/XN2/VN3DWN2/WOG/WN2/VN2/WNnDWN2/VN2/WN2/WN3DXN2/VN27WN3DWN2/WNm/WN2/WN27WN2/WN2/WN2/WN2/WNm/WN2/WN2/WN2/WN2/WN2/WQQea5gAAAE50Uk5TAAECBAYHChATFRYXGygyMzQ3OTw9QExOT1JYYWRlZ2lqb3JzdHV3fX6FiY2Oj5aZm563uLm6vL6/wMTLzNDX2eDn6uzw8fP09vj6+/3+GVLzvAAAAL1JREFUGBlVwYciQmEAQOFT6Sohsle27E3IKHvUef/H8XfvVfk+EvmZpdX5EfoKh28G7csyqalnU50asfKnfTWC3JPB49HeRUftTAArBptZYLKlXgE36gGxitopkfnRdpHEtbpASW2S2lfXKKgvpI7VKnypFWK5pjoHt2ojomvXoAjrBvfTGUZPDO6A4Xe7XlvGFgl2HNDIEuQf7PkeJzb24Z8NUrNtE2f0VI2dD9G3bVCPGLSl9Yj/lk8jEr+PTDoR3Pw4dgAAAABJRU5ErkJggg=="},"35f3":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return A}));var r=n("1da1"),a=(n("96cf"),n("7a23")),i=n("afbc"),o=n("f453"),c=Object(a["z"])({routeBtn:{name:"路由",checkSrc:n("a972"),uncheckSrc:n("f5b4"),isChecked:!1},rotateBtn:{name:"旋转控制",checkSrc:n("26f8"),uncheckSrc:n("9f8e"),isChecked:!0},initBtn:{name:"初始位置",checkSrc:n("ea2c"),uncheckSrc:n("baa8"),isChecked:!1},heatmapBtn:{name:"热力图",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1},flyLineBtn:{name:"飞线图",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1},featurePointBtn:{name:"特征点图",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1},distanceBufferBtn:{name:"缓冲区图",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1},lightMaskBtn:{name:"光罩图",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1},citySpriteBtn:{name:"poi点",checkSrc:n("ede3"),uncheckSrc:n("5456"),isChecked:!1}}),s=function(){var t=Object(a["z"])({state:{routeControl:!1,rotateControl:!1,initControl:!1,heatmapControl:!1,flyLineControl:!1,featurePointControl:!1,distanceBufferControl:!1,lightMaskControl:!1,citySpriteControl:!1}}),e=function(e){t.state=e};return{setToolbarState:e,toolbarState:Object(a["A"])(t)}},u=function(){c.rotateBtn.isChecked=!c.rotateBtn.isChecked},f=function(){i["a"].push("/")},h=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.heatmapBtn.isChecked=!c.heatmapBtn.isChecked,!c.heatmapBtn.isChecked){t.next=6;break}return t.next=4,Object(o["j"])();case 4:t.next=7;break;case 6:Object(o["e"])();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.flyLineBtn.isChecked=!c.flyLineBtn.isChecked,!c.flyLineBtn.isChecked){t.next=6;break}return t.next=4,Object(o["i"])();case 4:t.next=7;break;case 6:Object(o["d"])();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.featurePointBtn.isChecked=!c.featurePointBtn.isChecked,!c.featurePointBtn.isChecked){t.next=6;break}return t.next=4,Object(o["h"])();case 4:t.next=7;break;case 6:Object(o["c"])();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},5456:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAMAAAAMs7fIAAAAAXNSR0IArs4c6QAAAJlQTFRFAAAAAAAAqqrVs7Pmv8zytsLntsXpuMTrtsPruMPttsPst8PruMPst8PqtsPruMLrtsLqtsLst8PqtsLrt8Prt8Lqt8TstsLqt8Pqt8LrtsLqtsPqt8PrtsLrtsPrtsLrt8LqtsPqt8LrtsLqtsPqt8PrtsPrtsLrt8PrtsLrtsPrtsPrt8Prt8Lqt8LrtsPrtsLrt8Prt8Pr+g8ukwAAADJ0Uk5TAAEGChQVI0FNb3d/hIeJj5OTlJacn5+rrbG5uru9wMHGx83S09Th4+3v7/Hx8/P5/P6pnTvTAAAAl0lEQVQY00XQ2RaCMAxF0Thbi0wiOKOg2NZSIP//cdoi5D7uh7NWAhKxgGFPxAoQ0eyHGURlRTCvTViIERNWCiMO83ILy/cG1rXUOUDKRpArHvxqqUcwyZy0BLvOSUJQxk4YwaLvhATTixMkODZOIoKr33cIZrZT1qIe4SQ/d3uX5FkX83Pjc/m/VAfDtJVKqdv4n4dSry8G+Bc+lo42/QAAAABJRU5ErkJggg=="},8020:function(t,e,n){"use strict";n("bd5e")},"9f8e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAMAAAD6gTxzAAAAAXNSR0IArs4c6QAAAO1QTFRFAAAA////gP//v7//qtX/trbbs8zmr7/vvMnytsLnucXovMjps8bsucbsuMLrucPrtcTrtcPst8Xtt8PquMTqt8PrucPrt8TruMLst8Tst8LruMPquMLrtsLrt8TrtsLst8PsuMPqt8PruMPrtsTrt8LrtsPsuMTrtsLrtsTstsPrt8Prt8TruMLruMTrt8Prt8TrtsPst8Prt8Pst8LqtsPqt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Lqt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8Prt8PrTCNX8wAAAE50Uk5TAAECBAYHChATFRYXGygyMzQ3OTw9QExOT1JYYWRlZ2lqb3JzdHV3fX6FiY2Oj5aZm563uLm6vL6/wMTLzNDX2eDn6uzw8fP09vj6+/3+GVLzvAAAAL1JREFUGBlVwYciQmEAQOFT6Sohsle27E3IKHvUef/H8XfvVfk+EvmZpdX5EfoKh28G7csyqalnU50asfKnfTWC3JPB49HeRUftTAArBptZYLKlXgE36gGxitopkfnRdpHEtbpASW2S2lfXKKgvpI7VKnypFWK5pjoHt2ojomvXoAjrBvfTGUZPDO6A4Xe7XlvGFgl2HNDIEuQf7PkeJzb24Z8NUrNtE2f0VI2dD9G3bVCPGLSl9Yj/lk8jEr+PTDoR3Pw4dgAAAABJRU5ErkJggg=="},a972:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAAAXNSR0IArs4c6QAAAIFQTFRFAAAAQIC/M2bMQGDfQGrVMHDPPGnSM3DWN23RM27UNXHaOXHVNG/YOWzZOXHVOHDYOHDXOHHWN27WNm7VOG/VN27WN2/WNm/WN3DWOG/WN2/XN2/WNnDWN27WN2/WOG/WN2/WN2/XN2/WNm/WN2/WN2/WN2/WN2/WN2/WN2/WN2/WHufs9wAAACp0Uk5TAAQFCAwQERkcHiIkJyg2O0BEXWiTlJWWoq6xtMDCyNPe4+Tq7e/2+vz+8Wx+pAAAAI1JREFUGBltwYkWgUAABdCH9qFdQvuq9/8fqBxTKfdiccIf3svDXsoUOy5JF1sJyQQbLicuVjTbzznJfVvD5HDNGq412e0IpeZWrQCXir+qC0ai4lol8CEKLgqBL6Ol1BqYlZRKzFQuVEgOFw6kgKPu3nEUQArJPtKhRz0ZQnoMsYWJFQ9PSOYZkjAxegOdzB0wKdalBgAAAABJRU5ErkJggg=="},afbc:function(t,e,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var r=n("6c02"),a=[{path:"/",redirect:"/home",component:function(){return n.e("chunk-7604dc92").then(n.bind(null,"70b2"))},children:[{path:"home",name:"Home",component:function(){return n.e("chunk-a39fdcba").then(n.bind(null,"6511"))}},{path:"earth",name:"Earth",component:function(){return n.e("chunk-04a8a2ba").then(n.bind(null,"e1ea"))}},{path:"room",name:"Room",component:function(){return Promise.all([n.e("chunk-6f60c8f1"),n.e("chunk-6ebbcd54")]).then(n.bind(null,"5961"))}},{path:"city",name:"City",component:function(){return Promise.all([n.e("chunk-2f3c2194"),n.e("chunk-689033a7")]).then(n.bind(null,"b58d"))}},{path:"building",name:"Building",component:function(){return Promise.all([n.e("chunk-6f60c8f1"),n.e("chunk-2f3c2194"),n.e("chunk-712abd72")]).then(n.bind(null,"1a5c"))}}]}],i=Object(r["a"])({history:Object(r["b"])(),routes:a});e["a"]=i},baa8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAAXNSR0IArs4c6QAAAS9QTFRFAAAA////zMz/qqrV1dXV1dX/ucHwtMPwsb/qs8HqusHqusjxucbttsLpuMTrtsHotsHsuMPquMPtuMLrt8Trt8HptsLquMHqtsHqucTquMPstMHqt8Hqt8Hst8TstsPqtsPst8Pqt8PsuMTst8PqtsPquMPqtsPrtsPstsLrt8Prt8LrtsLqtsPstsLqtsLst8Pqt8Pst8Prt8PrtsPqtsLqt8Prt8LrtsPrt8Trt8LrtcHqtsPqt8Prt8PstsPqtsPrtcLpt8LrtsLrtsPrt8PrtsPqtsPrt8PstsLrtsPrt8PrtsPqtsPqt8TstsPrt8Pst8Prt8Lrt8Prt8PrtsLqt8Prt8PrtsPqtsPrt8Prt8Prt8Lqt8Prt8Pst8PruMPst8Lrt8PrtsPrt8PrRIOgkQAAAGR0Uk5TAAEFBgYGISIkJSUlOjtBQkJISEtOUlRWV1ddX19fX3t7g4OFh4iIiYmLjY6PkJKTlJSYnJ2eorGztLvCxMTFx8jJycrLzc/P1NXV1djZ3+Dg5+ru8fLz9fb29vf4+Pn6+vv7/SHs7+sAAAELSURBVBjTVdDnUsJQEAXgG0GxgkERRBSQBAVCQLpUpShRejW0BO6+/zOYGzKauz+/mZ1zdhH6n6Poxz2D6LEJk510R+txfLQB9YvSE/EtLExBMetpotfnL8StWc+SjVCklM1jAFXyGvbSHjzbHztj0GaV2+8m21ys6L/khpopTVbPSDQGsatUK+DMYFjXrw9IF7EXeiqmXmfddAEvay5itvh7P2L3t2aA5fmiemMhtwkjni8FHYGulixX3MRQdLIRzrMdjk3L8FP2WPXkzx1Mxfx4mCnM5fLt4b7ig6TCVtvEeFHxGIYY37dCKsOy6rb+XW3ouqbnmlQFpe6yUJ9kfNKqqd9BqTfHmu0Xzf03Id8uww4AAAAASUVORK5CYII="},bd5e:function(t,e,n){},bfe1:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("159b"),n("cfc3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("cb29"),n("38cf"),n("5a89")),o=n("22b5"),c=n("0fcf"),s="\n    varying float opacity;\n    uniform vec3 color;\n    void main(){\n      if(opacity <= 0.1) {\n        // gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n        discard;\n      } else {\n        gl_FragColor = vec4(color, 1.0);\n      }\n    }\n  ",u="\n    attribute float percent;\n    uniform float time;\n    uniform float number;\n    uniform float speed;\n    uniform float length;\n    uniform float size;\n\n    varying float opacity;\n\n    void main() {\n      float l = clamp(1.0 - length, 0.0, 1.0);\n\n      gl_PointSize = clamp(fract(percent * number + l - time * number * speed) - l, 0.0, 1.0) * size * (1.0 / length);\n      opacity = gl_PointSize / size;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(r["a"])(this,t),this.radius=e,this.count=[],this.curves=[],this.mainDistance=[],this.particles=[],this.flyLine=n,this.number=a,this.requestAnimationId=0}return Object(a["a"])(t,[{key:"getData",value:function(){}},{key:"getPoints",value:function(){for(var t=[],e=0;e<this.flyLine.length;e+=1){this.count.push(0);var n=Object(c["d"])(this.flyLine[e].from[0],this.flyLine[e].from[1],this.radius),r=Object(c["d"])(this.flyLine[e].to[0],this.flyLine[e].to[1],this.radius),a=Object(c["d"])((this.flyLine[e].from[0]+this.flyLine[e].to[0])/2,(this.flyLine[e].from[1]+this.flyLine[e].to[1])/2,this.radius+1),o=new i["Ob"](n.x,n.y,n.z),s=new i["Ob"](a.x,a.y,a.z),u=new i["Ob"](r.x,r.y,r.z),f=new i["k"]([o,s,u]),h=f.getLength();this.mainDistance.push(h),this.curves.push(f);var l=f.getPoints(500);t.push(l)}return t}},{key:"setParticles",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[new i["Ob"](1,0,0)],r=0;t.forEach((function(t){for(var a=(new i["i"]).setFromPoints(t),o=t.length,c=new Float32Array(o),f=0;f<o;f+=1)c[f]=f/o;a.setAttribute("percent",new i["h"](c,1));var h={time:{value:.3},number:{value:e.number},speed:{value:.003},length:{value:.1},size:{value:5},color:{value:n[r]}},l=new i["wb"]({uniforms:h,vertexShader:u,fragmentShader:s,transparent:!0}),A=new i["mb"](a,l);e.particles.push(A),r++}))}},{key:"createPointCanvas",value:function(t){var e=document.createElement("canvas");e.width=e.height=t;var n=e.getContext("2d");return null!=n&&(n.fillStyle="rgba(255,255,255,.0)",n.beginPath(),n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fillStyle="white",n.fill(),n.closePath()),e}},{key:"updateParticles",value:function(){var t=this,e=0,n=function(){for(var n=0;n<t.particles.length;n+=1)e>=1.2&&(e=0),e+=.01,t.particles[n].material.uniforms.time.value=e},r=function e(){t.requestAnimationId=requestAnimationFrame(e),n()};r()}},{key:"moveAction",value:function(t,e,n){var r=this,a=function(t){for(var e=0;e<r.particles.length;e+=1)r.particles[e].material.uniforms.time.value=t};this.tweenMove=new o["b"](t).to(e,n).easing(o["a"].Linear.None).onUpdate((function(){a(t.time)})).onStop((function(){r.tweenMove=null})).onComplete((function(){r.tweenMove=null})).repeat(1/0).start();var i=function t(e){null!==r.tweenMove&&(r.requestAnimationId=requestAnimationFrame(t),r.tweenMove.update(e))};i(0)}},{key:"addFromScene",value:function(t){this.particles.forEach((function(e){t.add(e)}))}},{key:"destroy",value:function(t){this.requestAnimationId&&cancelAnimationFrame(this.requestAnimationId);for(var e=0;e<this.particles.length;e++)t.remove(this.particles[e]),this.particles[e].geometry.dispose(),this.particles[e].material.dispose()}}]),t}()},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,i,o){var c=Object(r["D"])("router-view");return Object(r["v"])(),Object(r["d"])(c)}var i=n("35f3"),o=function(){var t=Object(r["z"])({scene:null}),e=function(e){t.scene=e};return{currentScene:t,setCurrentSceneState:e}},c=function(){var t=Object(r["B"])(!1),e=function(e){t.value=e};return{popupShow:Object(r["A"])(t),setPopupShowState:e}},s={name:"App",setup:function(){var t=Object(i["g"])(),e=t.toolbarState,n=t.setToolbarState;Object(r["x"])("toolbarState",e),Object(r["x"])("setToolbarState",n);var a=o(),s=a.currentScene,u=a.setCurrentSceneState;Object(r["x"])("currentScene",s),Object(r["x"])("setCurrentSceneState",u);var f=c(),h=f.popupShow,l=f.setPopupShowState;Object(r["x"])("popupShow",h),Object(r["x"])("setPopupShowState",l)}},u=(n("8020"),n("6b0d")),f=n.n(u);const h=f()(s,[["render",a]]);var l=h,A=n("afbc"),d=Object(r["c"])(l);d.use(A["a"]),d.mount("#app")},ea2c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAAXNSR0IArs4c6QAAAQtQTFRFAAAAAP//M2bMM2b/KoDVNmzYNXHaMmrVN27WNW7XNGzUM27YNmzVNW7VNW7YM23WNG/YNXDXNHDYNW7VNW/WNW/YNG7WNm7UNm7XNm7WN2/WNm3XN27VN2/VNm/WNm7WNW7VNW7XNm7VNm/WNW3WNW/UN27WNm7VNm/VNW7WNm/XNm7WNm7VNW7VNm7WNW/XNm7WNm/WN27VNm7VN2/VN2/XNm/XNm7WNm/WNW7VN27VNm7VNm/WN2/WNm/VNm/WNm/WNm7VNm/VNm/WNm/WNm7WNm/WNm7WN27WN2/WNm7WN27WN2/WN2/VN2/WN27VN2/WN2/XN2/WNm/WNm/WN2/WN2/VNm/WN2/W+/I/MQAAAFh0Uk5TAAEFBQYhIiQlOjtBQkhIS05SVFZXXF1fX3uDhYeHiImLi42Oj4+QkpOUmJydnqKxs7S7wsTExcfIycnKy83Pz9TV1dXY2d/g4Ofq7vHy8/X29vf4+fr7/ejSnfoAAAEESURBVBjTXdDZVsIwEAbgBKpUWWRR24IUZSuyCwLKIrLvUChp5v2fxLSeVuLc5TvJ5J9B6K+u0l8yRnxd57bmWOLVl1+fgUy4u6L2oWZ3vIqF+UK91UymbgfxtZd4blZqFICMHh37Xqb88ekGWBlVx54yDSWQXDEj/dBvv94yc1ccKMEyBaMb9lhZtHki1Si+7WelOj11Il4rc/5z8eJXBnug+uHYjgrWbLm1qjbjAWXGftZbMctQenvO3lSmyWBJB/393jY0NGGn1Tarcv3gGpLHBEz2ktJjyzGEpQmxIsOpHRPcqbFsq9GJChf7sZV0IwK3SSyNjH7Y+2/n+KEa8lycfwAhuDA3XpPMoAAAAABJRU5ErkJggg=="},ede3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAMAAAAMs7fIAAAAAXNSR0IArs4c6QAAAI1QTFRFAAAAAAAAKlXVM2bMM3PZMW3OM23bN27YNW3UN27WNm3WNm7XNm7WNW7VNm7WNW/WNm/VNW7WNW/VNm7WN2/VNm7VNW7VN23VNm7WN27WN27WNm/VNm7WNm/WNm/WNm7WN2/WN27WNm/WNm7VNm7VN2/VNm7VNm/VNm7WN27VN27WNm/WN27WNm7WN2/WRafgggAAAC50Uk5TAAEGChQVI0FNb3d/hIeJj5OUlpyfq6yxubq7vcDBxsfN0tTh4+3v7/Hz8/n8/tHlgW0AAACUSURBVBjTRdDpEoIwDATgeFuLHALeBxVrWoG8/+NpW2n25zeZndkAEjUwRhG1QES2GmOJ0IkWSV+KnHKhnTQfvZ+rLSxfG1hbNDeASkR4r2T2a6sShkntpWfYDV5KBlV4EQyL0JMzTM9eiOHQhRuGSxp6GGauR1ltIxzR3N0ulPVQyFOXSvwvNdkY46RFvMb/PBCfXx+8FcYWaCLQAAAAAElFTkSuQmCC"},f453:function(t,e,n){"use strict";n.d(e,"g",(function(){return S})),n.d(e,"a",(function(){return M})),n.d(e,"f",(function(){return T})),n.d(e,"j",(function(){return C})),n.d(e,"e",(function(){return L})),n.d(e,"i",(function(){return x})),n.d(e,"d",(function(){return V})),n.d(e,"h",(function(){return j})),n.d(e,"c",(function(){return E})),n.d(e,"b",(function(){return o}));var r,a,i,o,c,s,u,f,h,l=n("1da1"),A=(n("d3b7"),n("159b"),n("96cf"),n("5a89")),d=n("15f8"),m=n("d4ec"),p=n("bee2"),b=(n("cb29"),n("bc3a")),g=n.n(b),v="https://ncportal.geoscene.cn:6443/arcgis/rest/services/SampleWorldCities/MapServer/0/query",P=function(){return g.a.get(v,{params:{where:"1=1",f:"json"}})},N="https://services.arcgis.com/LG9Yn2oFqZi5PnO5/ArcGIS/rest/services/Armed_Conflict_Location_Event_Data_ACLED/FeatureServer/1/query",W=function(){return g.a.get(N,{params:{f:"json",where:"(EVENT_DATE BETWEEN timestamp '2018-12-18' AND timestamp '2018-12-20')",outFields:"*"}})},k=n("0fcf"),y=function(){function t(e){Object(m["a"])(this,t),this.minnum=0,this.maxnum=0,this.heatPluginData=[],this.config=e;var n=document.createElement("canvas");n.width=2048,n.height=1024,this.canvas=n,this.context=this.canvas.getContext("2d")}return Object(p["a"])(t,[{key:"getData",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:e=t.sent,n=[],e.data.features.forEach((function(t){var e=Object(k["b"])(t.geometry.x,t.geometry.y),a=Math.round(20*Math.random()+40);n.push([Math.round(e.x),Math.round(e.y),a]),r.minnum>a&&(r.minnum=a),r.maxnum<a&&(r.maxnum=a)})),this.heatPluginData=n;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setHeatmap",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.heatPluginData.length){t.next=3;break}return t.next=3,this.getData();case 3:this.pointOper(this.heatPluginData),this.mapColors();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"pointOper",value:function(t){var e=this;t.forEach((function(t){e.context.beginPath();var n=(t[2]-e.minnum)/(e.maxnum-e.minnum);e.context.globalAlpha=n,e.context.arc(t[0],t[1],e.config.radius,0,2*Math.PI,!0);var r=e.context.createRadialGradient(t[0],t[1],0,t[0],t[1],e.config.radius);r.addColorStop(0,"rgba(0,0,0,1)"),r.addColorStop(1,"rgba(0,0,0,0)"),e.context.fillStyle=r,e.context.closePath(),e.context.fill()}))}},{key:"mapColors",value:function(){for(var t=this.setColorPaint(),e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=e.data,r=0;r<n.length;r++){var a=n[r],i=4*a;i&&(n[r-3]=t[i],n[r-2]=t[i+1],n[r-1]=t[i+2])}this.context.putImageData(e,0,0,0,0,this.canvas.width,this.canvas.height)}},{key:"setColorPaint",value:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n=this.config.gradient;t.width=256,t.height=1;var r=e.createLinearGradient(0,0,256,1);for(var a in n)r.addColorStop(parseFloat(a),n[a]);return e.fillStyle=r,e.fillRect(0,0,256,1),e.getImageData(0,0,256,1).data}},{key:"refresh",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.config.radius=e,this.clearCanvas(),t.next=4,this.setHeatmap();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clearCanvas",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}]),t}(),w=n("bfe1"),O=(n("b0c0"),function(){function t(e){Object(m["a"])(this,t),this.earth=e,this.featurePoiMesh=new A["X"]}return Object(p["a"])(t,[{key:"getDatas",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setPoints",value:function(t,e,n){for(var r=0;r<t.length;r++){var a=Object(k["d"])(t[r].geometry.x,t[r].geometry.y,e),i=this.getCircleOptions(t[r].attributes),o=i.resRadius,c=i.resOpacity,s=i.color,u=i.objectId,f=new A["f"](.1,.1,o),h=new A["Y"]({color:s,transparent:!0,opacity:c});f.applyMatrix4((new A["W"]).makeTranslation(0,0,-.5*o));var l=new A["X"](f,h);l.name=u,l.position.set(a.x,a.y,a.z),l.lookAt(n.position),l.updateMatrix(),this.featurePoiMesh.add(l)}n.add(this.featurePoiMesh)}},{key:"getCircleOptions",value:function(t){var e=0,n=0;t.FATALITIES>20?(e=4,n=1):t.FATALITIES>15?(e=3.25,n=.9):t.FATALITIES>10?(e=2.5,n=.8):t.FATALITIES>5?(e=1.75,n=.7):(e=1,n=.6);var r=new A["o"](1,1,1);switch(t.EVENT_TYPE){case"Protests":r=new A["o"](237/255,81/255,81/255);break;case"Explosions/Remote violence":r=new A["o"](20/255,158/255,206/255);break;case"Battles":r=new A["o"](167/255,198/255,54/255);break;case"Riots":r=new A["o"](158/255,85/255,156/255);break;case"Violence against civilians":r=new A["o"](252/255,146/255,31/255);break;case"Strategic developments":r=new A["o"](1,222/255,62/255);break}var a=t.OBJECTID;return{resRadius:e,resOpacity:n,color:r,objectId:a}}},{key:"destroy",value:function(t){while(this.featurePoiMesh.children.length>0)this.featurePoiMesh.children[0].geometry.dispose(),this.featurePoiMesh.children[0].material.dispose(),this.featurePoiMesh.remove(this.featurePoiMesh.children[0]);this.featurePoiMesh.geometry.dispose(),this.featurePoiMesh.material.dispose(),t.remove(this.featurePoiMesh)}}]),t}()),S=function(t){o=new d["a"](t),o.camera.position.set(0,0,30),o.orbitControl.minDistance=22,o.orbitControl.maxDistance=42,a=new A["b"](5592405),o.scene.add(a),i=new A["C"](16777215,526368,1),i.position.copy(o.camera.position),o.scene.add(i);var e=new A["Cb"](10,32,32),c=n("196b"),s=n("fbdc"),u=n("ffc6"),f=new A["Z"]({map:(new A["Ib"]).load(c),bumpMap:(new A["Ib"]).load(s),bumpScale:.15,specularMap:(new A["Ib"]).load(u),specular:new A["o"]("#909090"),shininess:5,transparent:!0,color:16246735});r=new A["X"](e,f),o.camera.lookAt(r.position),o.scene.add(r)},M=function t(){c=requestAnimationFrame(t),i.position.copy(o.camera.position),o.renderer.render(o.scene,o.camera),o.orbitControl.update()},C=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={radius:20,gradient:{.2:"rgba(0,0,255,0.2)",.3:"rgba(43,111,231,0.3)",.4:"rgba(2,192,241,0.4)",.6:"rgba(44,222,148,0.6)",.8:"rgba(254,237,83,0.8)",.9:"rgba(255,118,50,0.9)",1:"rgba(255,64,28,1)"}},n=new y(e),t.next=4,n.setHeatmap();case 4:a=new A["Y"]({map:new A["j"](n.canvas),transparent:!0}),u=new A["X"](r.geometry,a),r.add(u),h=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.zoom,r=o.oldZoom,r===e){t.next=10;break}return i=(e-42)/-20*-15+20,t.next=6,n.refresh(i);case 6:c=new A["Y"]({map:new A["j"](n.canvas),transparent:!0}),u.material=c,a.dispose(),o.changeZoom();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.controlChange(h);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){u&&(r.remove(u),u.geometry.dispose(),u.material.dispose(),o.removeChange(h))},x=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[{from:[128.267,17.345],to:[117.258,38.134]},{from:[133.267,35.345],to:[115.258,26.134]}],n=[new A["Ob"](1,0,0),new A["Ob"](1,0,0)],s=new w["a"](10,e,500),a=s.getPoints(),s.setParticles(a,n),s.addFromScene(r),s.moveAction({time:0},{time:.66},1e3);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){s&&s.destroy(r)},j=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return f=new O(r),t.next=3,f.getDatas();case 3:e=t.sent,f.setPoints(e.data.features,10,r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){f&&f.destroy(r)},T=function(){cancelAnimationFrame(c),i.dispose(),a.dispose(),V(),L(),E(),r.geometry.dispose(),r.material.dispose(),r.children.forEach((function(t){t.geometry.dispose(),t.material.dispose()})),o.destroy()}},f5b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAAAXNSR0IArs4c6QAAAIFQTFRFAAAAv7//zMz/v7/fv7/qr7/vtMPwuMLrtr/tu8PutMPpuMbqt8TrucbsuMLstsLpt8PruMPsuMPsuMTrtsLqt8Pqt8PquMTrt8Prt8Pqt8Lrt8Trt8Prt8PruMPrtsPqt8Prt8Prt8Prt8Prt8PruMPrt8Prt8Prt8Prt8Prt8PrYq+vqQAAACp0Uk5TAAQFCAwQERkcHiIkJyg2O0BEXWiTlJWWoq6xtMDCyNPe4+Tq7e/2+vz+8Wx+pAAAAI1JREFUGBltwYkWgUAABdCH9qFdQvuq9/8fqBxTKfdiccIf3svDXsoUOy5JF1sJyQQbLicuVjTbzznJfVvD5HDNGq412e0IpeZWrQCXir+qC0ai4lol8CEKLgqBL6Ol1BqYlZRKzFQuVEgOFw6kgKPu3nEUQArJPtKhRz0ZQnoMsYWJFQ9PSOYZkjAxegOdzB0wKdalBgAAAABJRU5ErkJggg=="},fbdc:function(t,e,n){t.exports=n.p+"img/earth_bump.55b39306.jpg"},ffc6:function(t,e,n){t.exports=n.p+"img/earth_spec.dc4fc602.jpg"}});
//# sourceMappingURL=app.d35177dc.js.map